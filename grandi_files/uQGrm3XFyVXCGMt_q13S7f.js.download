;/*FB_PKG_DELIM*/

__d("MWInteropTokenUtils",["MWXacGating.bs"],(function(a,b,c,d,e,f,g){"use strict";function h(a){return a.rawData.isInstagramAccount===!0}function i(a){return a.rawData.isInteropEligible===!0}function j(a){if(d("MWXacGating.bs").isGroupsEnabled())return a.rawData.isGroupsXacEligible===!0;else return!1}function a(a){if(h(a))if(i(a))return!j(a);else return!0;else return!1}g.isInterop=h;g.isInteropEligible=i;g.isGxacEligible=j;g.isInteropWithoutGxacSupport=a}),98);
__d("useHasGroupLimitBeenReachedForSearchEntry",["MWGroupLimitConfig","MWInteropTokenUtils","MWXacGating.bs","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useMemo;function a(a,b){var c=i(function(){return d("MWXacGating.bs").isGroupsEnabled()&&a.some(d("MWInteropTokenUtils").isInterop)},[a]),e=a.length;c=c?e>=d("MWGroupLimitConfig").gxac-1:b?e>=d("MWGroupLimitConfig").armadillo()-1:e>=d("MWGroupLimitConfig").nonGxac-1;b=d("MWXacGating.bs").isGroupsEnabled()&&e>=d("MWGroupLimitConfig").gxac;return[c,b]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect,k=b.useRef,l=b.useState;function a(a){var b=a.dataSource;a=l(!1);var c=a[0],d=a[1],e=k(null);a=i(function(a){var c,f=a.onResolvePayload;a=a.requestParams;(c=e.current)==null?void 0:c.unsubscribe();e.current=b.fetchNetwork(a).subscribe({complete:function(){d(!1)},error:function(a){d(!1)},next:function(a){return f(a)},start:function(a){d(!0)},unsubscribe:function(){d(!1)}})},[b]);j(function(){return function(){var a;(a=e.current)==null?void 0:a.unsubscribe()}},[]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:2557","react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork","useDebouncedComet"],(function(a,b,c,d,e,f,g){"use strict";var h;e=h||d("react");var i=e.useCallback,j=e.useEffect,k=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;g=g===void 0?void 0:g;f=f.shouldDebounceNetwork;var h=f===void 0?!0:f,l=a.onResolvePayload;f=c("useBaseTokenizerSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var m=f[1],n=c("useDebouncedComet")(m),o=i(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=k(g),q=i(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:2557")&&b("cr:2557")(["all"],a)},[o]);j(function(){function a(a){a=a.requestParams;var b=a.requestFlow;b!=null&&(p.current=b);b={onResolvePayload:q,requestParams:babelHelpers["extends"]({},a,{requestFlow:p.current})};Boolean(h)?n(b):m(b)}d!=null&&a(d)},[m,n,d,q,h]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useBaseTokenizerSubscriptionDataSourceFetch",["react","recoverableViolation","useBaseTokenizerSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useState;function a(a){var b=j(null),d=b[0],e=b[1];b=c("useBaseTokenizerSubscriptionDataSourceFetchResolver")(a,d);a=b[0].isLoading;var f=i(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]);b=i(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]);return[{isLoading:a,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,b]}g["default"]=a}),98);
__d("CometInternalTokenizerSubscriptionProvider",["CometInternalTokenizerFetchContext","CometInternalTypeaheadEmptyFetchProvider","react","useBaseTokenizerSubscriptionDataSourceFetch","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useCallback,k=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams;a.loggingContext;var f=a.onFetchEntries_DO_NOT_USE,g=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var h=a.dispatchActiveEntries;a=c("useBaseTokenizerSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:j(function(a,b){var c;a=a.entries;var d=b.isTraceComplete;b=b.source;h((c=a)!=null?c:[]);f&&f(a);g&&!g.isResolved()&&(d&&(b==="cache"&&a.length>=g.getEntriesCountForVisualComplete()?g.setEndReason("max_suggestions_reached"):b==="network"?g.setEndReason("all_queries_completed"):b==="network-no-results"&&g.setEndReason("all_queries_completed_no_network_results"),g.resolve()))},[h,f,g])});d=a[0];var l=d.isLoading,m=d.source,n=a[1],o=a[2];e=k(function(){return{fetch:n,isLoading:l,refetch:o,source:m}},[n,l,o,m]);return i.jsx(c("CometInternalTokenizerFetchContext").Provider,{value:e,children:i.jsx(c("CometInternalTypeaheadEmptyFetchProvider"),{isLoading:l,source:m,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTokenizerSubscriptionProvider","CometInternalTypeaheadStateProvider","CometTokenizerInternal.react","emptyFunction","react","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useId,k=[];function a(a){var b=a.autoOpen;b=b===void 0?!1:b;var d=a.autoFocus;d=d===void 0?!1:d;var e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.decorators,h=g===void 0?[]:g;g=a.inputRef;var l=a.emptyEntries_DO_NOT_USE,m=a.id,n=a.isDisabled;n=n===void 0?!1:n;var o=a.label;o=o===void 0?"":o;var p=a.loggingContext,q=a.onAddToken;q=q===void 0?c("emptyFunction"):q;var r=a.onBlur;r=r===void 0?c("emptyFunction"):r;var s=a.onChangeTokens,t=a.onClose;t=t===void 0?c("emptyFunction"):t;var u=a.onEscape;u=u===void 0?c("emptyFunction"):u;var v=a.onFocus;v=v===void 0?c("emptyFunction"):v;var w=a.onOpen;w=w===void 0?c("emptyFunction"):w;var x=a.onRemoveToken;x=x===void 0?c("emptyFunction"):x;var y=a.onSearchCompletion;y=y===void 0?c("emptyFunction"):y;var z=a.placeholder;z=z===void 0?"":z;var A=a.testid;A=A===void 0?"":A;A=a.tokensStrategyRenderer;var B=a.tokens,C=a.viewRole;C=C===void 0?"listbox":C;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoOpen","autoFocus","dataSource","dataSourceFetchConfigParams","decorators","inputRef","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var D=j(),E=c("useStable")(function(){var a=c("CometTokenizerInternal.react");h.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});o=o||z;return i.jsx(c("CometInternalTypeaheadStateProvider"),{autoOpen:b,emptyEntries_DO_NOT_USE:l,onClose:t,onOpen:w,children:i.jsx(c("CometInternalTokenizerSubscriptionProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:p,children:i.jsx(E,babelHelpers["extends"]({},a,{autoFocus:d,commandConfigs:k,id:(b=m)!=null?b:D,inputRef:g,isDisabled:n,label:o,onBackspace:c("emptyFunction"),onBlur:r,onChangeEntries:s,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:u,onFocus:v,onHighlightEntry:c("emptyFunction"),onPressEntry:q,onRemoveEntry:x,onSearchCompletion:y,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:z,selectedEntries:B,testid:void 0,tokensStrategyRenderer:A,viewRole:C}))})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;e=b.forwardRef;var k=b.useId,l=b.useMemo,m={inputXStyle:{paddingBottom:"x1a8lsjc",$$css:!0}};function a(a,b){var d=l(function(){return{xstyle:m.inputXStyle}},[]),e=k();return j.jsxs(j.Fragment,{children:[j.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),j.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._("__JHASH__NSDogHXzKMm__JHASH__")})]})}a.displayName=a.name+" [from "+f.id+"]";d=e(a);g["default"]=d}),98);
__d("MWChatSearchTokenizerLightspeedSubscriptionDataSource",["LSIntEnum","MNetRankType","MWChatSearchSurfaces","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadEnumerate","relay-runtime/network/RelayObservable"],(function(a,b,c,d,e,f,g){"use strict";var h;a=function(){function a(a){var b=a.database,e=a.excludedIDs;e=e===void 0?[]:e;var f=a.lightspeedSupportedTypes;f=f===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:f;var g=a.source;g=g===void 0?c("MWChatSearchSurfaces").universal:g;var i=a.includeRecommendations;i=i===void 0?!0:i;var j=a.dedupeWithOtherUserId;j=j===void 0?!1:j;var k=a.includeGroupSearch;k=k===void 0?!0:k;a=a.nullstateRankType;a=a===void 0?(h||(h=d("LSIntEnum"))).ofNumber(c("MNetRankType").MESSENGER_USER_SEARCH_NULLSTATE):a;this.$2=[];this.$3=!1;this.$1=new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:b,excludedIDs:e,includeGroupSearch:k,includeMessageSearchEntry:!1,includeRecommendations:i,lightspeedSupportedTypes:f,nullstateRankType:a,source:g});this.$2=e;this.$3=j}var b=a.prototype;b.fetchNetwork=function(a){var b=this,d=a.selectedTokens;a=babelHelpers.objectWithoutPropertiesLoose(a,["selectedTokens"]);var e=this.$1.fetchNetwork(a);return c("relay-runtime/network/RelayObservable").create(function(a){e.subscribe({complete:a.complete,error:a.error,next:function(e){var f=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(d,b.$3);f=c("mwChatSearchPayloadEnumerate")(f(e));return a.next(babelHelpers["extends"]({},f,{selectedTokens:d}))}})})};b.setExcludedIds=function(a){this.$1.setExcludedIds(a)};return a}();g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","MessengerMSplitFlag","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var h=a.queryString,k=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE","queryString"]),l=e==null?void 0:e.getIsViewItemDisabled,m=(a=e==null?void 0:e.hasReachedGroupLimit)!=null?a:!1,n=(a=e==null?void 0:e.hasReachedGxacGroupLimit)!=null?a:!1,o=j(function(a){return m||(l?l(a):!1)||n&&a.rawData.isInstagramAccount},[l,m,n]);a=(e=e==null?void 0:(a=e.selectedEntries)==null?void 0:a.length)!=null?e:0;return i.jsxs(i.Fragment,{children:[g&&i.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),i.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,showActionItems:!c("MessengerMSplitFlag").is_msplit_account&&h===""&&a===0,testid:void 0,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return i.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},k,{entry:b,isActive:d,isDisabled:o(b),key:b.key,queryString:h,role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("LsOmnipickerDataSource",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({LOCAL:0,SERVER:1,SERVER_DSQ1:2,SERVER_DSQ2:3});c=a;f["default"]=c}),66);
__d("OmnipickerSearchUISectionType",["$InternalEnum"],(function(a,b,c,d,e,f){a=b("$InternalEnum")({NULL_STATE_SUGGESTED:1,NULL_STATE_XAC_FOLLOWING:2,QUERY_SUGGESTED:3,QUERY_NON_FOLLOWING:4,QUERY_XAC_FOLLOWING:5,QUERY_XAC_NON_FOLLOWING:6,QUERY_BUSINESSES:7,OTHER:8,GROUP_CHATS:9,NULL_STATE_SUGGESTED_DIRECT_INVITE:10,NULL_STATE_CATEGORIES_DIRECT_INVITE:11,QUERY_SUGGESTED_DIRECT_INVITE:12,COMMUNITY_CHATS:13,COMMUNITY_CHATS_SEE_MORE:14,AI:15,AI_SEE_MORE:16,AI_PICKER:17});c=a;f["default"]=c}),66);
__d("MWOmnipickerLoggingUtils",["I64","MWSearchLogging"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a,b){var c=b.searchSource,e=b.section;b=b.sectionAnalyticsName;if(a==="")return 1;if(c!=="server"||e==="")return 3;a=d("MWSearchLogging").SectionAnalyticsNameType.cast(b);if(a==null)return 8;switch(a){case d("MWSearchLogging").SectionAnalyticsNameType.CM_THREADS:return 13;case d("MWSearchLogging").SectionAnalyticsNameType.CONTACTS_GROUPS:return 3;case d("MWSearchLogging").SectionAnalyticsNameType.NON_CONTACTS:return 4;case d("MWSearchLogging").SectionAnalyticsNameType.PAGES:return 7;default:return 8}}b=function(a){switch(a){case"server":return[2,3];case"offline":case"offline_nullstate":case"secure":return[0];default:return[]}};c=function(a){var b;if(a==null)return{final_score:0,raw_score:0,raw_score_index:"-1",request_id:""};var c=a.score;a=a.scoreIndex;return{final_score:(b=c)!=null?b:0,raw_score:(b=c)!=null?b:0,raw_score_index:(c=(h||(h=d("I64"))).to_string(a))!=null?c:"-1",request_id:""}};g.mapSectionToOmnipickerSearchUISection=a;g.getLoggingDataSources=b;g.getMnetRankInfo=c}),98);
__d("OmnipickerSearchQueryChangedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("928");b=d("FalcoLoggerInternal").create("omnipicker_search_query_changed",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchResultSelectedFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("934");b=d("FalcoLoggerInternal").create("omnipicker_search_result_selected",a);e=b;g["default"]=e}),98);
__d("OmnipickerSearchStartFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("929");b=d("FalcoLoggerInternal").create("omnipicker_search_start",a);e=b;g["default"]=e}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MWChatSearchInputStrategy.react","MWChatSearchResultType","MWChatSearchSurfaces","MWChatSearchTokenizerLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes","MWOmnipickerLoggingUtils","OmnipickerSearchQueryChangedFalcoEvent","OmnipickerSearchResultSelectedFalcoEvent","OmnipickerSearchStartFalcoEvent","emptyFunction","gkx","isArmadillo","isGroupInvitesEnabled","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useReStore","uuidv4","withBaseTokenizerEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||(i=d("react"));b=i;var k=b.useEffect,l=b.useMemo,m=b.useRef,n=b.useState;function a(a){var b=a.excludedIDs,e=a.extraLayoutProps,f=a.getIsViewItemDisabled,g=a.includeRecommendations,i=g===void 0?!0:g;g=a.isDisabled;var o=a.isSecure,p=a.layoutStategyRenderer,q=a.onAddToken,r=a.onChangeTokens;a.onOpen;var s=a.onSearchAbandon;s=s===void 0?c("emptyFunction"):s;var t=a.onSearchCompletion;t=t===void 0?c("emptyFunction"):t;a.setAreWeCreatingASecureThread;var u=a.supportedSearchTypes,v=u===void 0?d("MWLSSearchIssueSearchQuerySupportedTypes").allSupportedTypes:u;u=a.tokenItemRenderer;var w=a.tokens;a=a.xstyles;var x=n(""),y=x[0],z=x[1],A=(h||(h=c("useReStore")))(),B=c("gkx")("4438"),C=c("gkx")("4370"),D=null,E=o?c("MWChatSearchSurfaces").omnipickerArmadillo:c("MWChatSearchSurfaces").universal,F=l(function(){return new(c("MWChatSearchTokenizerLightspeedSubscriptionDataSource"))({database:A,dedupeWithOtherUserId:!0,excludedIDs:b,includeRecommendations:i,lightspeedSupportedTypes:v,source:E})},[A,b,i,v,E]);x=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withBaseTokenizerEscapeDecorator"),params:{onSearchAbandon:s}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:F}}});s=m(null);var G=s.current;k(function(){G&&G.focus()},[G,w]);k(function(){if(o){var a=w.filter(function(a){return a.rawData.resultType===c("MWChatSearchResultType").USER&&a.rawData.isViewerUnconnected===!0});w.length>1&&a.length>0&&c("isGroupInvitesEnabled")()}},[w,o]);k(function(){F.setExcludedIds(b||[])},[F,b]);u=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:u});var H=l(function(){return{getIsViewItemDisabled:f,selectedEntries:w}},[f,w]),I=function(){if(!C)return;D=c("uuidv4")();c("OmnipickerSearchStartFalcoEvent").log(function(){var a;return{entry_surface:1,is_epd:B,omnipicker_type:1,search_mode:1,session_id:(a=D)!=null?a:""}})},J=function(a){z(a);if(!C)return;D!=null&&c("OmnipickerSearchQueryChangedFalcoEvent").log(function(){var b;return{query_length:a.length.toString(),query_string:a,search_mode:1,session_id:(b=D)!=null?b:""}})},K=function(a){if(q==null)return;if(!C||D==null){q(a);return}var b=a.rawData,e=b.id,f=b.rankingScore,g=b.renderIndex,h=b.searchResultType,i=b.searchSource,j=b.sectionRenderIndex,k={query_string:y,result_fbid:e,result_index:((b=g)!=null?b:-1).toString(),result_type:(e=h)!=null?e:7};c("OmnipickerSearchResultSelectedFalcoEvent").log(function(){var b;return{data_sources:d("MWOmnipickerLoggingUtils").getLoggingDataSources(i),is_epd:B,is_interop_thread:!1,mnet_request:d("MWOmnipickerLoggingUtils").getMnetRankInfo(f),recipient_ids:w.map(function(a){return a.key}),search_mode:1,search_result:k,session_id:(b=D)!=null?b:"",thread_id:null,ui_section:d("MWOmnipickerLoggingUtils").mapSectionToOmnipickerSearchUISection(y,a.rawData),ui_section_index:((b=j)!=null?b:-1).toString()}});q(a)};return j.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:F,dataSourceFetchConfigParams:c("isArmadillo")()?{requestFlow:"network-upon-approve"}:{},decorators:x,extraLayoutProps:e,extraViewProps:H,inputRef:s,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:g,layoutStrategyRenderer:p,loggingContext:"messenger_chat",onAddToken:K,onChange:J,onChangeTokens:r,onOpen:I,onSearchCompletion:t,queryString:y,testid:void 0,tokens:w,tokensStrategyRenderer:u,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWSearchTypeaheadViewItemIsDisabled",["MWInteropTokenUtils","cr:4831","react"],(function(a,b,c,d,e,f,g){"use strict";var h;c=h||d("react");var i=c.useCallback,j=c.useMemo;function a(a,c){var e=j(function(){return[a.some(d("MWInteropTokenUtils").isInterop),a.some(function(a){return!d("MWInteropTokenUtils").isGxacEligible(a)})]},[a]),f=e[0],g=e[1];e=(e=b("cr:4831")==null?void 0:b("cr:4831")(a,c))!=null?e:[!1,!1];var h=e[0],k=e[1];return i(function(a){var b=d("MWInteropTokenUtils").isInterop(a),e=!d("MWInteropTokenUtils").isGxacEligible(a);a=!d("MWInteropTokenUtils").isInteropEligible(a);if(h||b&&k||b&&c||g&&b||f&&e)return!0;else if(b)return a;else return!1},[f,g,c,h,k])}g["default"]=a}),98);
__d("useMWThreadListNewMessage",["MWInteropTokenUtils","MWThreadListNewMessageState.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useEffect;function a(a){var b=d("MWThreadListNewMessageState.react").useDispatch();i(function(){b({isActive:!0,type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetIsActive});return function(){return b({type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.ResetIfEmpty})}},[b]);i(function(){b({entries:a.filter(function(a){return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a)}),type:d("MWThreadListNewMessageState.react").MWThreadListNewMessageStateActionType.SetEntries})},[b,a])}g["default"]=a}),98);
__d("useMAWMaybeRedirectComposeViewToSecureOneToOneThread",["MWThreadCreationUtil","Promise","cr:1731","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i;e=i||d("react");var j=e.useEffect,k=e.useState;function a(a,e,f,g){var i=k(!1),l=i[0],m=i[1];j(function(){if(e&&f.length===1){var i=f[0];m(!0);c("promiseDone")((b("cr:1731")?b("cr:1731")({isTargetE2E:!1,targetID:i.rawData.id,targetType:"USER"},a):(h||(h=b("Promise"))).resolve()).then(function(){var b=d("MWThreadCreationUtil").getIsSecureBasedOnContactCapabilitiesForOneToOneThreadV2(i,a).then(function(a){a=a.isSecureThread;g(a)});m(!1);c("promiseDone")(b)}))}},[f,g,a,e]);return{isCutoverInProgress:l}}g["default"]=a}),98);
__d("MWV2NewThreadUtils",["I64","LSContactBlockedByViewerStatus","LSIntEnum","LSSearchType","MWChatInteraction","MWChatSearchResultType","MWInteropTokenUtils","MWLSDatabaseLazySync","MWPActor.react","MessengerWebEventsFalcoEvent","gkx","promiseDone","react","recoverableViolation","useMWNewChatOpenTabTraceProvider"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=h||d("react"),l=k.useCallback,m=k.useEffect,n=k.useMemo,o=k.useState,p=c("gkx")("7935");function q(a,b){if(a===c("MWChatSearchResultType").GROUP)return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",thread_fbid:b}});if(a===c("MWChatSearchResultType").MESSAGE){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}return c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:b}})}function a(){var a=d("MWLSDatabaseLazySync").useSync((i||(i=d("LSIntEnum"))).ofNumber(7));m(function(){c("promiseDone")(a())},[a])}var r=[];function b(a,b){var e=o(function(){return a}),f=e[0],g=e[1],h=d("MWPActor.react").useActor();e=n(function(){return[(j||(j=d("I64"))).to_string(h)]},[h]);var i=c("useMWNewChatOpenTabTraceProvider")(),k=l(function(a){return i(function(b){d("MWChatInteraction").set("open_with_tokens",b),g(function(){return a.filter(function(a){if(a.rawData.id!==(j||(j=d("I64"))).to_string(h)||p)return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a);else return!1})})},"chatheadsNewMessage")},[i,h]);return[f,k,!p&&(b||f.length>0)?e:r]}function e(a,b){return n(function(){return a.filter(function(a){return!d("MWInteropTokenUtils").isInteropWithoutGxacSupport(a)}).map(function(a){a=a.rawData;var e=a.resultType,f=a.isInstagramAccount===!0,g=a.isContact,h=a.otherUserId;h=h!=null?h:a.id;f?f=g?(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_CONTACT_FOLLOWING):(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").IG_NONCONTACT_FOLLOWING):e===c("MWChatSearchResultType").USER?f=(i||(i=d("LSIntEnum"))).ofNumber(g?c("LSSearchType").CONTACT:c("LSSearchType").NONCONTACT):e===c("MWChatSearchResultType").PAGE?f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").PAGE):e===c("MWChatSearchResultType").GROUP?f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").GROUP):(c("recoverableViolation")("Had troubles converting search result to token.\n              Is Contact: "+(g?"true":"false")+"\n              Token Type: "+e,"messenger_web_product"),f=(i||(i=d("LSIntEnum"))).ofNumber(c("LSSearchType").NONCONTACT));g=a.verificationStatus;return{blockedByViewerStatus:(i||(i=d("LSIntEnum"))).ofNumber(c("LSContactBlockedByViewerStatus").UNBLOCKED),contextLine:a.subtext,displayName:a.displayName,id:(j||(j=d("I64"))).of_string(h),isInteropEligible:a.isInteropEligible,isVerified:g!=null?g==="NOT_VERIFIED"?!1:!0:void 0,profilePicUrl:a.imageUrl,secondaryProfilePicUrl:a.secondaryImageUrl,threadType:e===c("MWChatSearchResultType").USER?b?(i||(i=d("LSIntEnum"))).ofNumber(15):(i||(i=d("LSIntEnum"))).ofNumber(1):e===c("MWChatSearchResultType").GROUP?(i||(i=d("LSIntEnum"))).ofNumber(2):(i||(i=d("LSIntEnum"))).ofNumber(1),type_:f}})},[a,b])}function f(a,b,e,f){var g=d("MWPActor.react").useActor();return l(function(h){var k=h.rawData,l=k.id,m=k.resultType,n=function(a){b(!0);return e({clientThreadKey:void 0,threadKey:(j||(j=d("I64"))).of_string(l),threadType:a})};((k=k.isInstagramAccount)!=null?k:!1)&&f(!1);a||q(m,l);k=d("MWInteropTokenUtils").isInteropWithoutGxacSupport(h);if(m===c("MWChatSearchResultType").USER)if(!p&&(j||(j=d("I64"))).to_string(g)===l||k)return n((i||(i=d("LSIntEnum"))).ofNumber(1));else return;else if(m===c("MWChatSearchResultType").GROUP)return n((i||(i=d("LSIntEnum"))).ofNumber(2));else if(m===c("MWChatSearchResultType").MESSAGE){c("recoverableViolation")("Was not expecting a message search result in a contact search typeahead","messenger_web_product");return}else return n(a?(i||(i=d("LSIntEnum"))).ofNumber(15):(i||(i=d("LSIntEnum"))).ofNumber(1))},[a,b,e,f,g])}g.useSyncRanking=a;g.useTokens=b;g.useTokensShimmed=e;g.useOnAddToken=f}),98);
__d("MDSListCell.react",["BaseListCell.react","Box.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j={addOnEndContainer:{alignItems:"x6s0dn4",display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"xs83m0k",justifyContent:"xl56j7k",minWidth:"x15kz4h8",$$css:!0},addOnStartContainer:{display:"x78zum5",flexDirection:"x1q0g3np",flexShrink:"xs83m0k",$$css:!0}},k={large:{paddingStart:"x1sln4lm",$$css:!0},medium:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0}},l={large:{paddingEnd:"x1iji9kk",$$css:!0},medium:{paddingTop:"x1y1aw1k",paddingBottom:"xwib8y2",paddingEnd:"x1sxyh0",$$css:!0}},m={large:{$$css:!0},medium:{paddingTop:"x889kno",paddingBottom:"x1a8lsjc",$$css:!0}},n={container:{flexGrow:"x1iyjqo2",flexShrink:"xs83m0k",$$css:!0},large:{paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},medium:{borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",paddingStart:"xurb0ha",paddingLeft:null,paddingRight:null,paddingEnd:"x1sxyh0",$$css:!0}};function a(a,b){var d=a.addOnEnd,e=a.addOnEndVerticalAlign,f=a.addOnStart,g=a.addOnStartVerticalAlign,h=a.content,o=a.role,p=a.size,q=a.testid;q=babelHelpers.objectWithoutPropertiesLoose(a,["addOnEnd","addOnEndVerticalAlign","addOnStart","addOnStartVerticalAlign","content","role","size","testid"]);return i.jsx(c("Box.react"),{xstyle:[n[p],n.container],children:i.jsx(c("BaseListCell.react"),babelHelpers["extends"]({addOnEnd:d!=null?i.jsx(c("Box.react"),{xstyle:k[p],children:i.jsx(c("Box.react"),{xstyle:j.addOnEndContainer,children:d})}):void 0,addOnEndVerticalAlign:e,addOnStart:f!=null?i.jsx(c("Box.react"),{xstyle:[j.addOnStartContainer,l[p]],children:f}):void 0,addOnStartVerticalAlign:g,content:i.jsx(c("Box.react"),{"data-testid":void 0,xstyle:m[p],children:h}),ref:b,role:o},q))})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("MDSListCellPressable.react",["CometFocusGroupContext","MDSListCell.react","MDSPressable.react","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useContext,k=c("gkx")("6478")?{container:{display:"x78zum5",$$css:!0}}:{container:{display:"x1lliihq",$$css:!0}},l={container:{borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",$$css:!0},pressableSelected:{backgroundColor:"x1av1boa",$$css:!0}};function a(a,b){var d=a.addOnEnd,e=a.addOnEndVerticalAlign,f=a.addOnStart,g=a.addOnStartVerticalAlign,h=a["aria-checked"],m=a["aria-controls"],n=a["aria-current"],o=a["aria-expanded"],p=a["aria-label"],q=a.content,r=a.contentTestId;r=a.contentXStyle;var s=a.disabled,t=a.focusable,u=a.id,v=a.linkProps;a.nestedSpacing;var w=a.onFocusChange,x=a.onHoverIn,y=a.onHoverOut,z=a.onPress,A=a.onPressIn,B=a.overlayDisabled,C=a.role,D=a.selected,E=a.size,F=a.testid;F=babelHelpers.objectWithoutPropertiesLoose(a,["addOnEnd","addOnEndVerticalAlign","addOnStart","addOnStartVerticalAlign","aria-checked","aria-controls","aria-current","aria-expanded","aria-label","content","contentTestId","contentXStyle","disabled","focusable","id","linkProps","nestedSpacing","onFocusChange","onHoverIn","onHoverOut","onPress","onPressIn","overlayDisabled","role","selected","size","testid"]);a=j(c("CometFocusGroupContext"));a=a.FocusItem;a=(a=a)!=null?a:i.Fragment;return i.jsx(a,{children:i.jsx(c("MDSPressable.react"),{"aria-checked":h,"aria-controls":m,"aria-current":n,"aria-expanded":o,"aria-label":p,disabled:s,focusable:t,id:u,linkProps:v,onFocusChange:w,onHoverIn:x,onHoverOut:y,onPress:z,onPressIn:A,overlayDisabled:D===!0||B,overlayRadius:"normal",ref:b,role:C,testid:void 0,xstyle:[r,D===!0&&l.pressableSelected,l.container,k.container],children:i.jsx(c("MDSListCell.react"),babelHelpers["extends"]({addOnEnd:d,addOnEndVerticalAlign:e,addOnStart:f,addOnStartVerticalAlign:g,content:q,role:C,size:E,testid:void 0},F))})})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);/*FB_PKG_DELIM*/
__d("BaseTextInput_DEPRECATED.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react");function a(a,b){var c=a.autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD,d=a.disabled;d=d===void 0?!1:d;var e=a.type;e=e===void 0?"text":e;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus_PLEASE_USE_FOCUS_REGION_INSTEAD","disabled","type"]);return i.jsx("input",babelHelpers["extends"]({},a,{autoFocus:c,disabled:d,ref:b,type:e}))}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("CometToken.react",["fbt","ix","CometIcon.react","CometPressable.react","CometProfilePhoto.react","TetraText.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j,k,l=k||d("react"),m={"default":{backgroundColor:"x1hr4nm9",$$css:!0},pressable:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStyle:"x13fuv20",borderEndStyle:"xu3j5b3",borderBottomStyle:"x1q0q8m5",borderStartStyle:"x26u7qi",borderTopWidth:"x972fbf",borderEndWidth:"xcfux6l",borderBottomWidth:"x1qhh985",borderStartWidth:"xm0m39n",boxSizing:"x9f619",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",paddingTop:"xexx8yu",paddingEnd:"x4uap5",paddingBottom:"x18d9i69",paddingStart:"xkhd6sd",position:"x1n2onr6",textAlign:"x16tdsg8",zIndex:"x1ja2u2z",$$css:!0},readonly:{paddingTop:"x1y1aw1k",paddingEnd:"x1sxyh0",paddingBottom:"xwib8y2",paddingStart:"xurb0ha",$$css:!0},root:{alignItems:"x6s0dn4",borderTopStartRadius:"xhk9q7s",borderTopEndRadius:"x1otrzb0",borderBottomEndRadius:"x1i1ezom",borderBottomStartRadius:"x1o6z2jb",display:"x3nfvp2",paddingTop:"x889kno",paddingEnd:"x1iji9kk",paddingBottom:"x1a8lsjc",paddingStart:"x1sln4lm",$$css:!0},shrinkVerticalPadding:{paddingBottom:"x10b6aqq",paddingTop:"x1yrsyyn",$$css:!0},shrinkVerticalPaddingLevel4:{paddingBottom:"xjkvuk6",paddingTop:"x1iorvi4",$$css:!0},spacing:{marginEnd:"x1emribx",marginLeft:null,marginRight:null,$$css:!0},suggested:{backgroundColor:"x1qhmfi1",$$css:!0}};function a(a){var b=a.addOn,e=a.addOnSecondary,f=a.disabled,g=a.level;g=g===void 0?3:g;var k=a.onPress,n=a.text;a=a.type;var o=a==="add"||a==="readonly"?"primary":"highlight",p=null,q=null,r=!1,s=!1,t=g===3?"body3":"body4";if(b){switch(b.type){case"text":p=l.jsx(c("TetraText.react"),{color:o,type:t,children:b.value});break;case"profile-photo":g===4?s=!0:r=!0;p=l.jsx(c("CometProfilePhoto.react"),{shape:"circle",size:g===3?24:20,source:{uri:b.source}});break;case"icon":g===4?s=!0:r=!0;p=l.jsx(c("CometIcon.react"),{color:o,icon:b.icon});break}p=l.jsx("div",{"aria-hidden":a==="remove",className:"x1emribx",children:p})}if(e){switch(e.type){case"text":q=l.jsx(c("TetraText.react"),{color:o,type:t,children:e.value});break}q=l.jsx("div",{"aria-hidden":a==="remove",className:"x1emribx",children:q})}t=l.jsx("div",{"aria-hidden":a==="remove",className:(j||(j=c("stylex")))(a!=="readonly"&&m.spacing),children:l.jsx(c("TetraText.react"),{color:o,type:g===3?"bodyLink3":"bodyLink4",children:n})});o=(b==null?void 0:b.type)==="text"?b.value:null;g=(e==null?void 0:e.type)==="text"?e.value:null;b=l.jsxs("div",{className:j(m.root,a!=="add"&&a!=="readonly"&&m["default"],a==="readonly"&&m.readonly,(a==="add"||a==="readonly")&&m.suggested,s&&m.shrinkVerticalPaddingLevel4,r&&m.shrinkVerticalPadding),children:[p,t,q,a==="add"?l.jsx(c("CometIcon.react"),{alt:h._("__JHASH__95v9ydXXTuI__JHASH__"),icon:d("fbicon")._(i("483767"),12)}):a!=="readonly"?l.jsx(c("CometIcon.react"),{"aria-label":h._("__JHASH__U1aN33icCWb__JHASH__",[h._param("prefix",o),h._param("token_text",n),h._param("add_on_secondary",g)]),color:"highlight",disabled:f,hideHoverOverlay:s,icon:d("fbicon")._(i("478231"),12),onPress:k,testid:void 0}):null]});return a==="add"?l.jsx(c("CometPressable.react"),{disabled:f,display:"inline",onPress:k,xstyle:m.pressable,children:b}):b}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometInternalTokenizerFetchContext",["emptyFunction","react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({fetch:c("emptyFunction"),isLoading:!1,refetch:c("emptyFunction"),source:"all"});g["default"]=b}),98);
__d("useCometInternalTokenizerFetch",["CometInternalTokenizerFetchContext","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useContext;function a(){return i(c("CometInternalTokenizerFetchContext"))}g["default"]=a}),98);
__d("useCometInternalTokenizerFetchHandler",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTokenizerFetch","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h;b=h||d("react");var i=b.useCallback,j=b.useEffect;function a(a){var b=a.loggingProvider,d=a.queryString,e=a.selectedTokens,f=a.traceProvider;a=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var g=a.isOpened;a=c("useCometInternalTypeaheadState")();var h=a.activeEntries;a=c("useCometInternalTokenizerFetch")();var k=a.fetch;a=i(function(){function a(a,c){var d=null;b!=null&&(d=b.addEvent({action:"keystroke",entries:h,queryString:a},"useCometInternalTypeaheadFetchHandler"));d=d!=null?{loggingEventTrace:d,perfTraceAPI:c,query:a,selectedTokens:e}:{perfTraceAPI:c,query:a,selectedTokens:e};k(d)}var c=d.trimLeft().replace(/\s+/g," ");if(!g)return;f?f.trace(function(b){return a(c,b)},c):a(c)},[h,k,g,b,d,e,f]);j(a,[g,d,e])}g["default"]=a}),98);
__d("BaseTokenizerDataFetchTrigger.react",["useCometInternalTokenizerFetchHandler"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.loggingProvider,d=a.queryString,e=a.selectedTokens;a=a.traceProvider;c("useCometInternalTokenizerFetchHandler")({loggingProvider:b,queryString:d,selectedTokens:e,traceProvider:a});return null}g["default"]=a}),98);
__d("useBaseTokenizerDecorators",["useStable"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var b=a.alertDecorator,d=a.escapeDecorator,e=a.limitDecorator,f=a.refetchDecorator,g=a.tokenManagementDecorator;return c("useStable")(function(){return[e,d,g,f,b].filter(Boolean)})}g["default"]=a}),98);
__d("CometTokenizerInputStrategyEventListener.react",["fbt","CometComponentWithKeyCommands.react","CometKeys","KeyCommandHandler.react","react","useCometTypeaheadInputHandlers","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||(i=d("react"));b=i;var k=b.useCallback,l=b.useMemo,m={root:{width:"xh8yej3",$$css:!0}};function a(a,b){var d=a.children,e=a.commandConfigs,f=a.isInline,g=a.onBackspace,i=a.onDownArrow,n=a.onEnter,o=a.onEscape,p=a.onShiftTab,q=a.onTab,r=a.onUpArrow;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","commandConfigs","isInline","onBackspace","onDownArrow","onEnter","onEscape","onShiftTab","onTab","onUpArrow"]);var s=l(function(){var a;return[].concat(e,[{command:{key:(a=c("CometKeys")).DELETE},description:h._("__JHASH__Cd9YiubQMjf__JHASH__"),handler:function(){return g&&g()},isHiddenCommand:!0,shouldPreventDefault:!1,triggerFromInputs:!0},{command:{key:a.DOWN},description:h._("__JHASH__CqK0EeqSMhz__JHASH__"),handler:function(){return i&&i()},triggerFromInputs:!0},{command:{key:a.UP},description:h._("__JHASH__iUKjo5X2a54__JHASH__"),handler:function(){return r&&r()},triggerFromInputs:!0},{command:{key:a.ESCAPE},description:h._("__JHASH__wwSVh79-oc2__JHASH__"),handler:function(){return o&&o()},triggerFromInputs:!0},{command:{key:a.ENTER},description:h._("__JHASH__mihpnKYilqe__JHASH__"),handler:function(){return n&&n()},triggerFromInputs:!0},{command:{key:a.TAB},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return q&&q()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0},{command:{key:a.TAB,shift:!0},description:h._("__JHASH__Z6s23TRj9Pk__JHASH__"),handler:function(){return p&&p()},isHiddenCommand:!0,shouldPreventDefault:!1,shouldStopPropagation:!1,triggerFromInputs:!0}])},[e,g,i,n,o,p,q,r]);b=c("useCometTypeaheadInputRefsWebOnly")(b);var t=b.composedRef;b=b.inputRef;b=c("useCometTypeaheadInputHandlers")(babelHelpers["extends"]({inputRef:b},a));a=k(function(a){a.key==="Tab"&&(!a.shiftKey?q&&q():p&&p())},[q,p]);return j.jsx(c("CometComponentWithKeyCommands.react"),{commandConfigs:s,elementType:f===!0?"span":"div",xstyle:m.root,children:j.jsx(c("KeyCommandHandler.react"),{onKeyDown:a,children:d(t,b)})})}a.displayName=a.name+" [from "+f.id+"]";e=j.forwardRef(a);g["default"]=e}),98);
__d("CometTokenizerInputWidthResolver.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react"));b=h;var j=b.useLayoutEffect,k=b.useRef,l=b.useState;function a(a){var b=a.children,c=a.placeholder;c=c===void 0?"":c;a=a.queryString;var d=l(0),e=d[0],f=d[1],g=k(null);d=a!==""?a:c;j(function(){g.current&&f(g.current.offsetWidth)},[d]);return i.jsxs(i.Fragment,{children:[i.jsx("span",{"aria-hidden":"true",className:"x1jchvi3 x1xgp4w4 x1owdmkh x10l6tqk x17qophe x13vifvy xlshs6z xuxw1ft",ref:g,children:d}),b(e)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnBackspaceHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,c=a.onBackspace,d=a.onRemoveEntry,e=a.selectedEntries;return i(function(){var a=b.current;if(a!=null&&a.selectionStart===0&&a.selectionEnd===0){a=e.length-1;a>=0&&d(e[a])}c&&c()},[b,c,e,d])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnEnterHandler",["react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.onEnter;return i(function(){b&&b()},[b])}g["default"]=a}),98);
__d("useCometTokenizerLayoutStrategyOnPressEntryHandler",["react","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.inputRef,d=a.onChange,e=a.onPressEntry;a=c("useCometInternalTypeaheadStateDispatcher")();var f=a.dispatchHighlightedEntry,g=b.current;return i(function(a,b){g!=null&&(g.value="",g.focus()),f({entry:null,source:null}),d(""),e&&e(a,b)},[g,f,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternalLayoutContextualStrategy.react",["fbt","CometContextualLayer.react","CometHeroHoldTrigger.react","CometTokenizerInputStrategyEventListener.react","CometTypeaheadViewStrategyEventListener.react","FocusRegion.react","cometHandleHighlightDropOnMouseLeave","emptyFunction","focusScopeQueries","intlList","react","stylex","useCometAccessibilityAlerts","useCometInternalTypeaheadState","useCometTypeaheadInputRefs","useResizeObserver","xplatToDOMRef"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=j||(j=d("react"));b=j;var l=b.useEffect,m=b.useRef,n={helperText:{marginTop:"x1xmf6yo",$$css:!0},view:{backgroundColor:"x1jx94hy",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",boxShadow:"xbsqzb3",boxSizing:"x9f619",display:"x78zum5",flexDirection:"xdt5ytf",flexGrow:"x1iyjqo2",marginTop:"xr9ek0c",width:"xh8yej3",$$css:!0}},o="ChatTypeahead";function a(a){var b=a.contextualProps;b=b===void 0?{}:b;var e=b.align;e=e===void 0?"stretch":e;var f=b.position;f=f===void 0?"below":f;var g=babelHelpers.objectWithoutPropertiesLoose(b,["align","position"]),j=a.description;b=a.extraLayoutProps;var p=b.ariaProps,q=p.ariaDescribedByProps,r=p.ariaInputProps,s=p.ariaViewProps;p=b.helperTextComponent;var t=b.isLoading;b=b.isOpened;var u=a.errorMessage,v=a.commandConfigs,w=a.selectedEntries,x=a.inputStrategyRenderer,y=a.isDisabled,z=a.label,A=a.layerContext;A=A===void 0?"root":A;var B=a.onBackspace,C=a.onBlur,D=a.onChange,E=a.onClick,F=a.onDownArrow,G=a.onEnter,H=a.onEscape,I=a.onFocus,J=a.onShiftTab,K=a.onTab,L=a.onUpArrow,M=a.queryString,N=a.inputRef,O=a.tokensStrategyRenderer,P=a.viewStrategyRenderer,Q=a.xstyles,R=babelHelpers.objectWithoutPropertiesLoose(a,["contextualProps","description","extraLayoutProps","errorMessage","commandConfigs","selectedEntries","inputStrategyRenderer","isDisabled","label","layerContext","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onFocus","onShiftTab","onTab","onUpArrow","queryString","inputRef","tokensStrategyRenderer","viewStrategyRenderer","xstyles"]);a=c("useCometTypeaheadInputRefs")(N);N=a.composedRef;a=a.inputRef;var S=m(null),T=m(null),U=c("useResizeObserver")(function(){T.current!=null&&T.current.reposition({autoflip:!g.disableAutoFlip})}),V=c("useCometInternalTypeaheadState")(),W=V.activeEntries,X=V.highlightedEntry;V=A==="input"?a.current:S.current;var Y=c("cometHandleHighlightDropOnMouseLeave")(R.onHighlightEntry);A=c("useCometAccessibilityAlerts")();a=A[0];var Z=A[1],$=m();l(function(){var a,b=(a=$.current)!=null?a:[];if(w&&b.length<w.length){a=w.filter(function(a){return!b.includes(a)});Z(h._("__JHASH__B4tEJ9D88a9__JHASH__",[h._param("entry",c("intlList")(a.map(function(a){return a.label}),c("intlList").CONJUNCTIONS.AND).toString())]))}else if(b.length>w.length){a=b.filter(function(a){return!w.includes(a)});Z(h._("__JHASH__E2ufigyYww2__JHASH__",[h._param("entries",c("intlList")(a.map(function(a){return a.label}),c("intlList").CONJUNCTIONS.AND).toString())]))}$.current=w},[w,Z]);return k.jsxs(k.Fragment,{children:[k.jsx("div",{className:(i||(i=c("stylex")))(Q==null?void 0:Q.layoutXStyle),ref:S,children:k.jsxs("div",{className:i(Q==null?void 0:Q.inputXStyle),onClick:E,ref:U,role:"presentation",children:[a,k.jsx(d("FocusRegion.react").FocusRegion,{recoverFocusQuery:d("focusScopeQueries").tabbableScopeQuery,children:k.jsx(c("CometTokenizerInputStrategyEventListener.react"),{commandConfigs:v,onBackspace:B,onBlur:C,onChange:D,onClick:c("emptyFunction"),onDownArrow:F,onEnter:G,onEscape:H,onFocus:I,onShiftTab:J,onTab:K,onUpArrow:L,ref:N,children:function(a,b){return k.jsx(x,babelHelpers["extends"]({},b,{ariaProps:r,autoFocus:R.autoFocus,description:j,errorMessage:u,id:R.id,inputEndContent:R.inputEndContent,inputExtraProps:R.inputExtraProps,inputStartContent:w.length>0?k.jsx(O,{isDisabled:y,onPress:R.onRemoveEntry,tokens:w}):null,isDisabled:y,label:z,placeholder:R.placeholder,queryString:M,ref:d("xplatToDOMRef").xplatToInputRef(a),testid:void 0}))}})})]})}),p!=null&&k.jsx("div",babelHelpers["extends"]({className:"x1xmf6yo"},q,{children:p})),k.jsx(c("CometHeroHoldTrigger.react"),{description:o,hold:!(V!=null&&b!==!1)||V!=null&&b!==!1&&W.length===0}),V&&V instanceof HTMLElement&&b&&k.jsx(c("CometContextualLayer.react"),babelHelpers["extends"]({},g,{align:e,context_DEPRECATED:V,position:f,ref:T,children:k.jsx(c("CometTypeaheadViewStrategyEventListener.react"),{onOutsideClick:R.onOutsideClick,children:function(a){return k.jsxs("div",{className:(i||(i=c("stylex")))([n.view,Q==null?void 0:Q.viewXStyle_DO_NOT_USE]),onMouseLeave:Y,ref:a,children:[k.jsx(P,{ariaProps:s,entries:W,extraViewProps:R.extraViewProps,highlightedEntry:X,isLoading:t,onHighlightEntry:R.onHighlightEntry,onPressEntry:R.onPressEntry,queryString:M}),k.jsx(c("CometHeroHoldTrigger.react"),{description:o,hold:t&&W.length===0})]})}})}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutInlineStrategyHandlers",["react","useCometTokenizerLayoutStrategyOnBackspaceHandler","useCometTokenizerLayoutStrategyOnEnterHandler","useCometTokenizerLayoutStrategyOnPressEntryHandler","useCometTypeaheadLayoutStrategyOnBlurHandler","useCometTypeaheadLayoutStrategyOnChangeHandler","useCometTypeaheadLayoutStrategyOnDownArrowHandler","useCometTypeaheadLayoutStrategyOnHighlightEntryHandler","useCometTypeaheadLayoutStrategyOnOutsideClickHandler","useCometTypeaheadLayoutStrategyOnUpArrowHandler"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.handlers,d=b.onBackspace,e=b.onBlur,f=b.onChange,g=b.onDownArrow,h=b.onEnter,j=b.onEscape,k=b.onHighlightEntry,l=b.onOutsideClick,m=b.onPressEntry,n=b.onRemoveEntry;b=b.onUpArrow;var o=a.inputRef;a=a.selectedEntries;k=c("useCometTypeaheadLayoutStrategyOnHighlightEntryHandler")({onHighlightEntry:k});d=c("useCometTokenizerLayoutStrategyOnBackspaceHandler")({inputRef:o,onBackspace:d,onRemoveEntry:n,selectedEntries:a});a=c("useCometTypeaheadLayoutStrategyOnBlurHandler")({onBlur:e});var p=c("useCometTypeaheadLayoutStrategyOnChangeHandler")({onChange:f,onHighlightEntry:k});e=c("useCometTypeaheadLayoutStrategyOnDownArrowHandler")({onDownArrow:g,onHighlightEntry:k});g=c("useCometTokenizerLayoutStrategyOnEnterHandler")({onEnter:h});h=i(function(){p(""),j&&j()},[p,j]);f=c("useCometTokenizerLayoutStrategyOnPressEntryHandler")({inputRef:o,onChange:f,onPressEntry:m});m=c("useCometTypeaheadLayoutStrategyOnOutsideClickHandler")({inputRef:o,onOutsideClick:l});o=c("useCometTypeaheadLayoutStrategyOnUpArrowHandler")({onHighlightEntry:k,onUpArrow:b});return{onBackspace:d,onBlur:a,onChange:p,onDownArrow:e,onEnter:g,onEscape:h,onHighlightEntry:k,onOutsideClick:m,onPressEntry:f,onRemoveEntry:n,onUpArrow:o}}g["default"]=a}),98);
__d("useCometTokenizerInternalLayoutContextualStrategyHandlers",["react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadStateDispatcher","useCometTokenizerInternalLayoutInlineStrategyHandlers"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.handlers,d=b.onAbandonTypeahead_DO_NOT_USE,e=b.onClick,f=b.onOutsideClick,g=b.onShiftTab,h=b.onTab;b=babelHelpers.objectWithoutPropertiesLoose(b,["onAbandonTypeahead_DO_NOT_USE","onClick","onOutsideClick","onShiftTab","onTab"]);var j=a.inputRef,k=a.isDisabled,l=a.queryString;a=a.selectedEntries;var m=c("useBaseTypeaheadLayoutContextualStrategyStateContext")(),n=m.dispatchIsOpened,o=m.isOpened;m=c("useCometInternalTypeaheadStateDispatcher")();var p=m.dispatchActiveEntries,q=m.dispatchHighlightedEntry;m=i(function(){n(!1),f&&f()},[n,f]);m=c("useCometTokenizerInternalLayoutInlineStrategyHandlers")({handlers:babelHelpers["extends"]({onOutsideClick:m},b),inputRef:j,selectedEntries:a});var r=m.onBackspace;b=m.onBlur;var s=m.onChange,t=m.onDownArrow,u=m.onEnter,v=m.onEscape;a=m.onHighlightEntry;var w=m.onOutsideClick,x=m.onPressEntry,y=m.onRemoveEntry,z=m.onUpArrow;m=i(function(){n(!1),d&&d()},[n,d]);var A=i(function(){l.length===0&&n(!1),r&&r()},[n,r,l.length]),B=i(function(a){n(!0),s&&s(a)},[n,s]),C=i(function(){!o&&!Boolean(k)&&n(!0),j.current&&j.current.focus(),e&&e()},[o,k,j,e,n]),D=i(function(){n(!1),q({entry:null,source:null}),p([]),u&&u()},[p,q,n,u]),E=i(function(){n(!1),v&&v()},[n,v]),F=i(function(){o?t&&t():n(!0)},[n,o,t]),G=i(function(a,b){n(!1),p([]),x&&x(a,b)},[p,n,x]),H=i(function(a){n(!1),y&&y(a)},[n,y]),I=i(function(){n(!1),g&&g()},[n,g]),J=i(function(){n(!1),h&&h()},[n,h]),K=i(function(){!o?n(!0):z&&z()},[n,o,z]);return{onAbandonTypeahead_DO_NOT_USE:m,onBackspace:A,onBlur:b,onChange:B,onClick:C,onDownArrow:F,onEnter:D,onEscape:E,onHighlightEntry:a,onOutsideClick:w,onPressEntry:G,onRemoveEntry:H,onShiftTab:I,onTab:J,onUpArrow:K}}g["default"]=a}),98);
__d("CometTokenizerTokenListStrategy.react",["fbt","CometFocusTable.react","focusScopeQueries","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||d("react");function a(a){var b=a.isDisabled,c=a.onPress,e=a.tokens,f=a.tokenStrategyRenderer;return e.length===0?null:j.jsx(d("CometFocusTable.react").CometFocusTable,{elementType:"span",label:h._("__JHASH__JsJP4UWjJGj__JHASH__"),tabScopeQuery:d("focusScopeQueries").tabbableScopeQuery,wrapXToNextLine:!0,wrapY:!0,children:e.map(function(a,e){return j.jsx(d("CometFocusTable.react").CometFocusRow,{children:j.jsx("div",{className:"x1rg5ohu x1gslohp xw3qccf x12nagc xsgj6o6",role:"row",children:j.jsx(d("CometFocusTable.react").CometFocusCell,{children:j.jsx("span",{role:"gridcell",children:j.jsx(f,{isDisabled:b,onPress:c,token:a})})})})},e)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometTokenizerTokenStrategy.react",["CometToken.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.addOn,d=a.addOnSecondary,e=a.isDisabled,f=a.level,g=a.onPress,h=a.token;a=j(function(a){a.preventDefault(),g(h)},[g,h]);return i.jsx(c("CometToken.react"),{addOn:b,addOnSecondary:d,disabled:e,level:f,onPress:a,text:h.label,type:"remove"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useCometTokenizerListTokenStrategy",["CometTokenizerTokenListStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b=a.tokenItemRenderer;a=a.tokenListRenderer;var d=a===void 0?c("CometTokenizerTokenListStrategy.react"):a;return j(function(a){a=babelHelpers["extends"]({},a);return i.jsx(d,babelHelpers["extends"]({tokenStrategyRenderer:b},a))},[b,d])}g["default"]=a}),98);
__d("useCometInternalTypeaheadOnBlurLoggingHandler",["react","useCometInternalTypeaheadState"],(function(a,b,c,d,e,f,g){"use strict";var h,i=(h||d("react")).useCallback;function a(a){var b=a.loggingProvider,d=a.onBlur,e=a.queryString;a=c("useCometInternalTypeaheadState")();var f=a.activeEntries;return i(function(){b!=null&&b.isSessionActive()&&(b.addEvent({action:"abandon",entries:f,queryString:e},"useCometInternalTypeaheadOnBlurLoggingHandler"),b.endSession()),d&&d()},[f,b,d,e])}g["default"]=a}),98);
__d("CometTokenizerInternal.react",["BaseTokenizerDataFetchTrigger.react","emptyFunction","react","useBaseTypeaheadLayoutContextualStrategyStateContext","useCometInternalTypeaheadOnAbandonLoggingHandler","useCometInternalTypeaheadOnBlurLoggingHandler","useCometInternalTypeaheadOnEnterLoggingHandler","useCometInternalTypeaheadOnFocusLoggingHandler","useCometInternalTypeaheadOnPressEntryLoggingHandler","useCometInternalTypeaheadState","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadInputRefsWebOnly"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||(h=d("react")),j=h.useCallback;function a(a){var b,d=a.inputRef,e=a.layoutStrategyRenderer,f=a.loggingProvider,g=a.onBlur,h=a.onChange,k=a.onEnter,l=a.onFocus,m=a.onPressEntry,n=a.onSearchCompletion,o=a.onSelectFreeformQuery,p=a.onShiftTab,q=a.onTab,r=a.queryString,s=a.selectedEntries,t=a.traceProvider;a=babelHelpers.objectWithoutPropertiesLoose(a,["inputRef","layoutStrategyRenderer","loggingProvider","onBlur","onChange","onEnter","onFocus","onPressEntry","onSearchCompletion","onSelectFreeformQuery","onShiftTab","onTab","queryString","selectedEntries","traceProvider"]);d=c("useCometTypeaheadInputRefsWebOnly")(d);var u=d.composedRef,v=d.inputRef;d=c("useCometInternalTypeaheadState")();var w=d.highlightedEntry,x=d.highlightedEntrySource;d=c("useCometInternalTypeaheadStateDispatcher")();var y=d.dispatchHighlightedEntry;d=c("useBaseTypeaheadLayoutContextualStrategyStateContext")();var z=d.dispatchIsOpened;d=c("useCometInternalTypeaheadOnBlurLoggingHandler")({loggingProvider:f,onBlur:g,queryString:r});g=c("useCometInternalTypeaheadOnFocusLoggingHandler")({loggingProvider:f,onFocus:l,queryString:r});l=c("useCometInternalTypeaheadOnEnterLoggingHandler")({loggingProvider:f,onEnter:j(function(){if(w!=null&&x==="keyboard")v.current&&v.current.focus(),m&&m(w);else{var a;a=(a=v.current)==null?void 0:a.value;if(a==="")n&&n();else{o&&o((a=a)!=null?a:"")}}y({entry:null,source:null});h("");k&&k()},[w,x,y,h,k,v,m,n,o]),queryString:r});var A=c("useCometInternalTypeaheadOnPressEntryLoggingHandler")({loggingProvider:f,onPressEntry:m,queryString:r}),B=(b=c("useCometInternalTypeaheadOnAbandonLoggingHandler"))({callback:j(function(){z(!1),p&&p()},[z,p]),loggingProvider:f,queryString:r}),C=b({callback:j(function(){z(!1),q&&q()},[z,q]),loggingProvider:f,queryString:r}),D=b({callback:c("emptyFunction"),loggingProvider:f,queryString:r});b=b({callback:c("emptyFunction"),loggingProvider:f,queryString:r});return i.jsxs(i.Fragment,{children:[i.jsx(c("BaseTokenizerDataFetchTrigger.react"),{loggingProvider:f,queryString:r,selectedTokens:s,traceProvider:t}),i.jsx(e,babelHelpers["extends"]({},a,{inputRef:u,onAbandonTypeahead_DO_NOT_USE:b,onBlur:d,onChange:h,onClick:c("emptyFunction"),onEnter:l,onFocus:g,onOutsideClick:D,onPressEntry:A,onShiftTab:B,onTab:C,queryString:r,selectedEntries:s}))]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);