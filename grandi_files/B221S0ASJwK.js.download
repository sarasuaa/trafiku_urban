;/*FB_PKG_DELIM*/

__d("CometFeedStoryGenericLink_story$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},b={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'};return{kind:"SplitOperation",metadata:{},name:"CometFeedStoryGenericLink_story$normalization",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"analytics_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"destination_url",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[a,b],storageKey:null},b],storageKey:null}]}}();e.exports=a}),null);
__d("CometFeedStoryGenericLink_story.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedStoryGenericLink_story",selections:[{alias:null,args:null,concreteType:"StoryAttachment",kind:"LinkedField",name:"attachment",plural:!1,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"web_link",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"fbclid",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"lynx_mode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"analytics_url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"destination_url",storageKey:null}],type:"ExternalWebLink",abstractKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useURLFromAttachment_attachment"}],storageKey:null}],type:"StoryAttachmentGenericLinkRenderer",abstractKey:null};e.exports=a}),null);
__d("useURLFromAttachment_attachment.graphql",[],(function(a,b,c,d,e,f){"use strict";a=function(){var a={alias:null,args:[{kind:"Literal",name:"site",value:"www"}],kind:"ScalarField",name:"url",storageKey:'url(site:"www")'};return{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useURLFromAttachment_attachment",selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"action_links",plural:!0,selections:[a],storageKey:null},a],type:"StoryAttachment",abstractKey:null}}();e.exports=a}),null);
__d("CometFeedUserVerifiedBadgeStrategy_badge$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"CometFeedUserVerifiedBadgeStrategy_badge$normalization",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"is_prod_eligible",storageKey:null}],type:"ICometStorySection",abstractKey:"__isICometStorySection"}]};e.exports=a}),null);
__d("CometFeedUserVerifiedBadgeStrategy_badge.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CometFeedUserVerifiedBadgeStrategy_badge",selections:[{args:null,kind:"FragmentSpread",name:"useCometFeedStoryMatchDebugger_iCometStorySection"},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],type:"CometFeedUserVerifiedBadgeStrategy",abstractKey:null};e.exports=a}),null);
__d("CometArticleContextDialogQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6585171548198900"}),null);
__d("CometArticleContextDialogQuery$Parameters",["CometArticleContextDialogQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometArticleContextDialogQuery_facebookRelayOperation"),metadata:{},name:"CometArticleContextDialogQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("LiveVideoCometBadge_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"LiveVideoCometBadge_video",selections:[{alias:null,args:null,kind:"ScalarField",name:"breaking_status",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_live_streaming",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_premiere",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_huddle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"is_video_broadcast",storageKey:null}],type:"Video",abstractKey:null};e.exports=a}),null);
__d("VideoPlayerScrubberDefaultPreview_video$normalization.graphql",[],(function(a,b,c,d,e,f){"use strict";a={kind:"SplitOperation",metadata:{},name:"VideoPlayerScrubberDefaultPreview_video$normalization",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"ScrubberPreview",kind:"LinkedField",name:"scrubber_preview_thumbnail_information",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_uris",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_preview_thumbnails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_images_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_number_of_images_per_sprite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_interval_between_image",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}]};e.exports=a}),null);
__d("VideoPlayerScrubberDefaultPreview_video.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"VideoPlayerScrubberDefaultPreview_video",selections:[{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"video",plural:!1,selections:[{alias:null,args:null,concreteType:"ScrubberPreview",kind:"LinkedField",name:"scrubber_preview_thumbnail_information",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"sprite_uris",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"thumbnail_height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_preview_thumbnails",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"num_images_per_row",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"max_number_of_images_per_sprite",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"time_interval_between_image",storageKey:null}],storageKey:null}],storageKey:null}],type:"XFBVideoPlayerScrubberDefaultPreviewRenderer",abstractKey:null};e.exports=a}),null);
__d("EventCometLiveVideoCardContext",["react"],(function(a,b,c,d,e,f,g){"use strict";var h;a=h||d("react");b=a.createContext({showClassRecording:!1});g["default"]=b}),98);
__d("ParallizerHelper",["ConstUriUtils","FBLogger","SecureMessageListener"],(function(a,b,c,d,e,f,g){"use strict";var h="ParallelReporting",i=["facebook.com"];function j(a){if(a===null||typeof a!=="object"){c("FBLogger")("parallel-reporting").warn("Failed to validate the event data: invalid data");return null}if(a.requestMsgType==null||a.requestMsgType!==h){c("FBLogger")("parallel-reporting").warn("Failed to validate the event data: not for parallel reporting");return null}a=a.requestUrl;if(typeof a!=="string"||!d("ConstUriUtils").isValidUri(a)){c("FBLogger")("parallel-reporting").warn("Failed to validate the event data: request URL not a valid URL");return null}return a}function a(){var a=new(c("SecureMessageListener"))(window);function b(a){a=a.data;a=j(a);if(a==null){c("FBLogger")("parallel-reporting").warn("Failed to send request: request url invalid");return}if(window==null||window.navigator==null){c("FBLogger")("parallel-reporting").warn("Failed to send request: navigator is null");return}window.fetch(a,{mode:"no-cors"})["catch"](function(a){c("FBLogger")("parallel-reporting").warn("Failed to send request: fetch api failed",a)});c("FBLogger")("parallel-reporting").info("Successfully sent request")}a.setEventHandler(b).setSupportedOrigins(i);a.beginListening()}g.requestMsgType=h;g.init=a}),98);
__d("XFBSbxParallelReportingPageControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/parallel_analytics/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);
__d("ParallelReportingIframeContainer.react",["CookieConsentIFrameConfig","FBLogger","ParallizerHelper","SecurePostMessage","XFBSbxParallelReportingPageControllerRouteBuilder"],(function(a,b,c,d,e,f,g){"use strict";function h(){return"www.fbsbx.com"}function i(){var a,b=h();return(a=c("XFBSbxParallelReportingPageControllerRouteBuilder").buildUri({__cci:(a=c("CookieConsentIFrameConfig").consent_param)!=null?a:""}).setProtocol("https"))==null?void 0:(a=a.setDomain(b))==null?void 0:a.toString()}function a(){try{var a;a=(a=window.frames["parallel-reporting-iframe"])!=null?a:null;if(a!=null)return;a=i();if(a==null){c("FBLogger")("parallel-reporting").warn("Failed to create Iframe: cannot get FBSbx URI");return}var b=document.createElement("iframe");b.style.display="none";b.className="ParallelReportingIframe";b.id="parallel-reporting-iframe";b.src=a;(a=document.body)==null?void 0:a.appendChild(b)}catch(a){c("FBLogger")("parallel-reporting").warn("Failed to create iframe: %s",a.message)}}function b(a){var b;if(a==null){c("FBLogger")("parallel-reporting").warn("Failed to send request to analytics webiste upon click: cannot get analytics link");return}b=(b=window.frames["parallel-reporting-iframe"])!=null?b:null;if(b==null){c("FBLogger")("parallel-reporting").warn("Failed to send request to analytics webiste upon click: cannot get iframe");return}var e=b.src;if(e==null){c("FBLogger")("parallel-reporting").warn("Failed to send request to analytics webiste upon click: cannot get FBSbx URI");return}a=a;c("SecurePostMessage").sendMessageToSpecificOrigin(b.contentWindow,{requestMsgType:d("ParallizerHelper").requestMsgType,requestUrl:a},e)}g.createParallelReportingIframeContainerIfNotExist=a;g.parallelReportingUponClick=b}),98);
__d("useURLFromAttachment",["CometRelay","useURLFromAttachment_attachment.graphql"],(function(a,b,c,d,e,f,g){"use strict";var h;function a(a){var c;a=d("CometRelay").useFragment(h!==void 0?h:h=b("useURLFromAttachment_attachment.graphql"),a);return(c=(c=a==null?void 0:(c=a.action_links)==null?void 0:(c=c[0])==null?void 0:c.url)!=null?c:a==null?void 0:a.url)!=null?c:null}g["default"]=a}),98);
__d("CometFeedStoryGenericLink.react",["CometFeedStoryGenericLink_story.graphql","CometGHLRenderingContext","CometLink.react","CometRelay","ParallelReportingIframeContainer.react","QE2Logger","gkx","react","recoverableViolation","stylex","useGHLLinkProps","useURLFromAttachment"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=j||(j=d("react")),l=j.useEffect,m=h!==void 0?h:h=b("CometFeedStoryGenericLink_story.graphql");function a(a,b){b=a.adID;var e=a["aria-label"],f=a["aria-labelledby"],g=a.children,h=a.story;a=a.xstyle;h=d("CometRelay").useFragment(m,h);var j=h.attachment;h=c("useURLFromAttachment")(j);l(function(){(j==null?void 0:j.web_link)==null?c("recoverableViolation")("attachment web_link must not be null in CometFeedStoryGenericLink.react.js","comet_infra"):(j==null?void 0:j.web_link.url)==null&&c("recoverableViolation")("web_link url must not be null in CometFeedStoryGenericLink.react.js","comet_infra")},[j]);var n=j==null?void 0:j.web_link,o=n==null?void 0:n.analytics_url,p=n==null?void 0:n.destination_url,q=c("gkx")("6762")&&o!=null&&p!=null&&b!=null;b=function(){d("QE2Logger").logExposureForUser("qe_people_signals_paired");if(q!==!0)return;return d("ParallelReportingIframeContainer.react").parallelReportingUponClick(o)};q===!0&&d("ParallelReportingIframeContainer.react").createParallelReportingIframeContainerIfNotExist();p=n!=null&&c("gkx")("1616314")?n.url:q?p:h;h=n==null?void 0:n.fbclid;n=n==null?void 0:n.lynx_mode;var r=c("useGHLLinkProps")({href:p,label:""}),s=c("gkx")("1071");return j==null?null:k.jsx(c("CometGHLRenderingContext").Provider,{value:c("gkx")("224"),children:s&&r.href!==null?k.jsx(c("CometLink.react"),{"aria-label":e,"aria-labelledby":f,fbclid:h,href:r.href,lynxMode:n,onClick:b,onFocus:r.onFocus,onHoverStart:r.onHoverStart,role:"link",suppressHydrationWarning:!0,xstyle:a,children:g}):c("gkx")("2845")?k.jsx("div",{"aria-label":e,"aria-labelledby":f,className:(i||(i=c("stylex")))(a),children:g}):k.jsx(c("CometLink.react"),{"aria-label":e,"aria-labelledby":f,fbclid:h,href:p,lynxMode:n,onClick:b,suppressHydrationWarning:!0,xstyle:a,children:g})})}a.displayName=a.name+" [from "+f.id+"]";e=k.forwardRef(a);g["default"]=e}),98);
__d("CometUserVerificationBadge.react",["CometLazyPopoverTrigger.react","CometPageVerificationIcon.react","JSResourceForInteraction","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||d("react"),j=c("JSResourceForInteraction")("CometVerificationBadgeInfoPopover.react").__setRef("CometUserVerificationBadge.react");function a(a){var b=a.shouldBeWhite,d=b===void 0?!1:b;b=a.size;var e=b===void 0?"large":b;return i.jsx(c("CometLazyPopoverTrigger.react"),{popoverProps:{verificationBadge:"USER_VERIFIED"},popoverResource:j,position:"above",children:function(a,b){return i.jsx("span",{onMouseEnter:b,ref:a,children:i.jsx(c("CometPageVerificationIcon.react"),{isInverted:d,size:e,verificationBadge:"BLUE_VERIFIED"})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometFeedUserVerifiedBadgeStrategy.react",["CometFeedUserVerifiedBadgeStrategy_badge.graphql","CometRelay","CometUserVerificationBadge.react","react","useCometFeedStoryMatchDebugger"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=i||d("react");function a(a){var e=a.badge;a=a.shouldBeWhite;e=d("CometRelay").useFragment(h!==void 0?h:h=b("CometFeedUserVerifiedBadgeStrategy_badge.graphql"),e);c("useCometFeedStoryMatchDebugger")(e);return j.jsxs("span",{className:"x1dor1uw x1n2onr6",children:["\xa0",j.jsx(c("CometUserVerificationBadge.react"),{shouldBeWhite:a,size:"small"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("CometArticleContextDialog.entrypoint",["CometArticleContextDialogQuery$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){a=a.nodeID;return{queries:{queryReference:{parameters:c("CometArticleContextDialogQuery$Parameters"),variables:{nodeID:a,scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("CometArticleContextDialog.react").__setRef("CometArticleContextDialog.entrypoint")};g["default"]=a}),98);
__d("LiveVideoCometBadge.react",["fbt","BaseRow.react","BaseRowItem.react","CometRelay","EventCometLiveVideoCardContext","LiveVideoCometBadge_video.graphql","TetraText.react","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k,l=k||(k=d("react")),m=k.useContext,n={animation:{animationDirection:"xpz12be",animationDuration:"xof6966",animationIterationCount:"xa4qsjk",animationName:"x18wbh7p",animationTimingFunction:"xkewf8z",$$css:!0},large:{paddingTop:"xyinxu5",paddingEnd:"x1sxyh0",paddingBottom:"x1g2khh7",paddingStart:"xurb0ha",$$css:!0},root:{backgroundColor:"x1ciooss",borderTopStartRadius:"x1lcm9me",borderTopEndRadius:"x1yr5g0i",borderBottomEndRadius:"xrt01vj",borderBottomStartRadius:"x10y3i5r",boxSizing:"x9f619",display:"x3nfvp2",height:"x5yr21d",marginTop:"xr9ek0c",marginEnd:"xfs2ol5",marginBottom:"xjpr12u",marginStart:"x12mruv9",$$css:!0},rootRecordedHuddle:{backgroundColor:"xrmyhay",$$css:!0},small:{paddingTop:"x1yrsyyn",paddingEnd:"x150jy0e",paddingBottom:"x10b6aqq",paddingStart:"x1e558r4",$$css:!0},xsmall:{paddingTop:"x1nn3v0j",paddingEnd:"x10ogl3i",paddingBottom:"x1120s5i",paddingStart:"x1k2j06m",$$css:!0}},o=function(a,b,c,d,e){if(a)return h._("LIVE BREAKING");if(c)return h._("PREMIERE");if(d)return h._("RECORDED");return e?h._("REC"):b?h._("LIVE"):null};function a(a){var e=a.pulse;e=e===void 0?!1:e;var f=a.size;f=f===void 0?"small":f;a=a.video;a=d("CometRelay").useFragment(i!==void 0?i:i=b("LiveVideoCometBadge_video.graphql"),a);var g=m(c("EventCometLiveVideoCardContext")),h=!!a.breaking_status,k=!!a.is_live_streaming,p=!!a.is_premiere,q=!!a.is_huddle;a=!!a.is_video_broadcast;var r=q&&a&&!k;g=k&&g.showClassRecording;g=o(h,k,p,r,g);return h||k||p||q&&a?l.jsx("div",{className:(j||(j=c("stylex")))(n.root,f==="large"&&n.large,f==="small"&&n.small,f==="xsmall"&&n.xsmall,e&&n.animation,r&&n.rootRecordedHuddle),children:l.jsx(c("BaseRow.react"),{align:"center",verticalAlign:"center",children:l.jsx(c("BaseRowItem.react"),{children:f==="xsmall"?l.jsx(c("TetraText.react"),{color:"primaryOnMedia",numberOfLines:1,type:"meta4",children:g}):l.jsx(c("TetraText.react"),{color:"primaryOnMedia",numberOfLines:1,type:f==="large"?"bodyLink3":"bodyLink4",children:g})})})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useImpressionLogger",["BaseViewportMarginsContext","getIntersectionMarginFromViewportMargin","intersectionObserverEntryIsIntersecting","react","useIntersectionObserver"],(function(a,b,c,d,e,f,g){"use strict";var h;h||(h=d("react"));b=h;var i=b.useCallback,j=b.useContext,k=b.useRef;function a(a,b){var d=j(c("BaseViewportMarginsContext")),e=k(!1),f=i(function(d){d=c("intersectionObserverEntryIsIntersecting")(d);e.current!==d&&(e.current=d,e.current&&a.onReady(function(a){return b(a)}))},[b,a]);return c("useIntersectionObserver")(f,{root:null,rootMargin:c("getIntersectionMarginFromViewportMargin")(d),threshold:0})}g["default"]=a}),98);
__d("VideoPlayerScrubberDefaultPreview.react",["CometRelay","VideoPlayerHooks","VideoPlayerScrubberDefaultPreview_video.graphql","VideoPlayerTimeIndicator.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j,k=i||d("react"),l=.1,m=60,n=120;function o(a,b,c,d,e,f){c=c*b;b=Math.floor(a%c/b);var g=Math.floor(b/d);b=b%d;d=b*e;b=g*f;e=Math.floor(a/c);return{spriteIndex:e,spriteX:d,spriteY:b}}function a(a){var e=a.timestampSec;a=a.video;var f=(j||(j=d("VideoPlayerHooks"))).useDimensions();a=d("CometRelay").useFragment(h!==void 0?h:h=b("VideoPlayerScrubberDefaultPreview_video.graphql"),a);a=a==null?void 0:(a=a.video)==null?void 0:a.scrubber_preview_thumbnail_information;var g=a==null?void 0:a.sprite_uris,i=a==null?void 0:a.thumbnail_width,p=a==null?void 0:a.thumbnail_height,q=a==null?void 0:a.has_preview_thumbnails,r=a==null?void 0:a.num_images_per_row,s=a==null?void 0:a.max_number_of_images_per_sprite;a=a==null?void 0:a.time_interval_between_image;if(g==null||i==null||p==null||q==null||r==null||s==null||a==null||!q)return k.jsx(c("VideoPlayerTimeIndicator.react"),{shouldCenterSelf:!0,timestampSec:e});q=o(e,a,s,r,i,p);a=q.spriteIndex;s=q.spriteX;r=q.spriteY;q=i/p;i=f==null?m:Math.max(m,Math.min(n,f.height*l));f=i*q;q=p/i;p={backgroundImage:"url("+g[a]+")",backgroundPosition:"-"+s/q+"px -"+r/q+"px",backgroundSize:"1000% 1000%",borderRadius:4,height:i,width:f};g={backgroundColor:"var(--fds-black-alpha-60)",borderRadius:4,height:i,left:-f/2,padding:1,width:f};return k.jsxs("div",{className:"x78zum5 xl56j7k x1n2onr6",style:g,children:[k.jsx("div",{style:p}),k.jsx(c("VideoPlayerTimeIndicator.react"),{timestampSec:e})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("VideoPlayerMainThreadAvailability",["ShakaConstants","Visibility","performanceNow"],(function(a,b,c,d,e,f,g){"use strict";var h,i=window.__fbNativeSetTimeout,j=a.__fbNativeClearTimeout,k=window.requestIdleCallback,l=window.cancelIdleCallback,m=function(a,b){var c=function c(){a(c,b)};return c};b=function(){function a(){this.$1=!1,this.$2=null,this.$3=null,this.$4=null}var b=a.prototype;b.enable=function(){if(this.$1||!this.$5())return;this.$6();this.$7();this.$1=!0};b.getTimeSinceMainThreadAvailable=function(){return this.$2!=null?(h||(h=c("performanceNow")))()-Number(this.$2):null};b.$8=function(){this.$2=c("Visibility").isHidden()?null:(h||(h=c("performanceNow")))()};b.$9=function(){this.$2=null,typeof this.$4==="number"&&(l(this.$4),this.$4=null),typeof this.$3==="number"&&(j(this.$3),this.$3=null)};b.$7=function(){this.$10()};b.$6=function(){var a=this,b;(b=c("Visibility")).addListener(b.VISIBLE,function(){a.$9(),a.$7()});b.addListener(b.HIDDEN,function(){a.$9()})};b.$10=function(){var a=this,b=c("ShakaConstants").numbers.settimeout_polling_delay;if(b>-1){var d=function c(){a.$8(),a.$3=i(c,b)};i(d,b)}};b.$5=function(){return c("Visibility").isSupported()&&typeof k==="function"&&typeof l==="function"&&typeof i==="function"&&typeof j==="function"};b.maybeEnablePerformanceTest=function(){var a,b=c("ShakaConstants").numbers.recursive_ric_timeout;b>-1&&({timeout:b});b=c("ShakaConstants").numbers.recursive_native_settimeout_delay;b>-1&&typeof i==="function"&&(a=m(i,b));a&&a()};return a}();d=new b();g["default"]=d}),98);
__d("VideoPlayerDashPerformanceLoggerEventFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f,g){"use strict";a=c("getFalcoLogPolicy_DO_NOT_USE")("1962341");b=d("FalcoLoggerInternal").create("video_player_dash_performance_logger_event",a);e=b;g["default"]=e}),98);
__d("VideoPlayerDashPerformanceLoggerPayloadBuilder",[],(function(a,b,c,d,e,f){"use strict";var g={access_token:void 0,additional_buffered_ranges:void 0,append_target:void 0,appended_buffer_ms:void 0,bandwidth_estimate:void 0,client_time_begin:void 0,client_time_duration:void 0,client_time_end:void 0,code:void 0,concluder:void 0,connection_quality_level:void 0,content_length_header:void 0,device_pixel_ratio_float:void 0,dropped_frames:void 0,dynamic_bitrate:void 0,edge_hit_header:void 0,ended:void 0,error:void 0,event:void 0,expected_length:void 0,fbls_to_ply_dis_ms:void 0,initiator:void 0,is_drm:void 0,is_live:void 0,is_muted:void 0,is_online:void 0,is_p2p_playback:void 0,is_page_visible:void 0,is_prefetch:void 0,is_ring_buffer_sample:void 0,is_servable_via_fbms:void 0,is_templated_manifest:void 0,is_latency_catchup_enabled:void 0,last_buffered_end:void 0,last_buffered_start:void 0,last_buffering_event_end_time:void 0,last_buffering_event_start_time:void 0,last_playing_event_time:void 0,length:void 0,livehead_delta:void 0,livehead_seq_num_header:void 0,livehead_seq_num_mpd:void 0,logical_cpu_count:void 0,lowest_quality_representation_id:void 0,manifest_type:void 0,mediastream_event_count:void 0,mediasource_previous_duration:void 0,mediasource_new_duration:void 0,one_observed:void 0,one_req_wave:void 0,one_res_wave:void 0,origin_hit_header:void 0,parent_id:void 0,playback_fbms_param:void 0,playback_rate:void 0,player_height:void 0,player_instance_count:void 0,player_origin_caller_specified:void 0,player_suborigin:void 0,player_version:void 0,player_width:void 0,player_format:void 0,playhead:void 0,preload_time:void 0,previous_representation_id:void 0,priority_float:void 0,proxy_status_header:void 0,reason:void 0,representation_id:void 0,reschedule_count:void 0,resource:void 0,response_time_ms_header:void 0,result:void 0,script_path:void 0,segment_count:void 0,segment_end_time:void 0,segment_start_time:void 0,segment_time_gap:void 0,sequential_id:void 0,session:void 0,state:void 0,stream_switch_reason:void 0,time_between_bytes_max:void 0,time_since_main_thread_available:void 0,time_to_first_byte:void 0,time_to_last_byte:void 0,time_to_request_sent:void 0,time_to_request_start:void 0,total_frames:void 0,type:void 0,update_period:void 0,user_info:void 0,video_duration:void 0,video_id:void 0,video_playback_experience_issue:void 0,was_delayed:void 0,fna_hit_header:void 0,last_video_buffered_end:void 0,last_video_buffered_start:void 0,last_audio_buffered_end:void 0,last_audio_buffered_start:void 0,per_session_sampling_rate:void 0};function h(a){var b=a;typeof b==="string"&&(b=Number(a));return b!=null&&isFinite(b)?String(Math.floor(b)):null}a=function(){function a(){this.$1=babelHelpers["extends"]({},g)}var b=a.prototype;b.clear=function(){this.$1=babelHelpers["extends"]({},g);return this};b.getData=function(){return babelHelpers["extends"]({},this.$1)};b.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};b.setPerSessionSampleRate=function(a){this.$1.per_session_sampling_rate=h(a);return this};b.setAccessToken=function(a){this.$1.access_token=a;return this};b.setAdditionalBufferedRanges=function(a){this.$1.additional_buffered_ranges=a;return this};b.setAppendTarget=function(a){this.$1.append_target=h(a);return this};b.setAppendedBufferMs=function(a){this.$1.appended_buffer_ms=h(a);return this};b.setBandwidthEstimate=function(a){this.$1.bandwidth_estimate=h(a);return this};b.setClientTimeBegin=function(a){this.$1.client_time_begin=h(a);return this};b.setClientTimeDuration=function(a){this.$1.client_time_duration=h(a);return this};b.setClientTimeEnd=function(a){this.$1.client_time_end=h(a);return this};b.setCode=function(a){this.$1.code=h(a);return this};b.setConcluder=function(a){this.$1.concluder=a;return this};b.setConnectionQualityLevel=function(a){this.$1.connection_quality_level=a;return this};b.setContentLengthHeader=function(a){this.$1.content_length_header=h(a);return this};b.setDevicePixelRatioFloat=function(a){this.$1.device_pixel_ratio_float=a;return this};b.setDroppedFrames=function(a){this.$1.dropped_frames=h(a);return this};b.setDynamicBitrate=function(a){this.$1.dynamic_bitrate=h(a);return this};b.setFNAHitHeader=function(a){this.$1.fna_hit_header=a;return this};b.setEdgeHitHeader=function(a){this.$1.edge_hit_header=a;return this};b.setEnded=function(a){this.$1.ended=a;return this};b.setError=function(a){this.$1.error=a;return this};b.setEvent=function(a){this.$1.event=a;return this};b.setExpectedLength=function(a){this.$1.expected_length=h(a);return this};b.setFblsToPlyDisMs=function(a){this.$1.fbls_to_ply_dis_ms=h(a);return this};b.setPreferredEdgeLatency=function(a){this.$1.preferred_edge_latency=h(a);return this};b.setInitiator=function(a){this.$1.initiator=a;return this};b.setIsDrm=function(a){this.$1.is_drm=a;return this};b.setIsLive=function(a){this.$1.is_live=a;return this};b.setIsMuted=function(a){this.$1.is_muted=a;return this};b.setIsOnline=function(a){this.$1.is_online=a;return this};b.setIsP2pPlayback=function(a){this.$1.is_p2p_playback=a;return this};b.setIsPageVisible=function(a){this.$1.is_page_visible=a;return this};b.setIsPrefetch=function(a){this.$1.is_prefetch=a;return this};b.setIsRingBufferSample=function(a){this.$1.is_ring_buffer_sample=a;return this};b.setIsServableViaFbms=function(a){this.$1.is_servable_via_fbms=a;return this};b.setIsTemplatedManifest=function(a){this.$1.is_templated_manifest=a;return this};b.setIsLatencyCachupEnabled=function(a){this.$1.is_latency_catchup_enabled=a;return this};b.setPlayerFormat=function(a){this.$1.player_format=a;return this};b.setLastBufferedEnd=function(a){this.$1.last_buffered_end=h(a);return this};b.setLastBufferedStart=function(a){this.$1.last_buffered_start=h(a);return this};b.setLastBufferingEventEndTime=function(a){this.$1.last_buffering_event_end_time=h(a);return this};b.setLastBufferingEventStartTime=function(a){this.$1.last_buffering_event_start_time=h(a);return this};b.setLastPlayingEventTime=function(a){this.$1.last_playing_event_time=h(a);return this};b.setLength=function(a){this.$1.length=h(a);return this};b.setLiveheadDelta=function(a){this.$1.livehead_delta=h(a);return this};b.setLiveheadSeqNumHeader=function(a){this.$1.livehead_seq_num_header=h(a);return this};b.setLiveheadSeqNumMpd=function(a){this.$1.livehead_seq_num_mpd=h(a);return this};b.setLogicalCpuCount=function(a){this.$1.logical_cpu_count=h(a);return this};b.setLowestQualityRepresentationID=function(a){this.$1.lowest_quality_representation_id=a;return this};b.setManifestType=function(a){this.$1.manifest_type=a;return this};b.setMediastreamEventCount=function(a){this.$1.mediastream_event_count=h(a);return this};b.setMediaSourceNewDuration=function(a){this.$1.mediasource_new_duration=a;return this};b.setMediaSourcePreviousDuration=function(a){this.$1.mediasource_previous_duration=a;return this};b.setOneObserved=function(a){this.$1.one_observed=a;return this};b.setOneReqWave=function(a){this.$1.one_req_wave=h(a);return this};b.setOneResWave=function(a){this.$1.one_res_wave=h(a);return this};b.setOriginHitHeader=function(a){this.$1.origin_hit_header=a;return this};b.setParentID=function(a){this.$1.parent_id=h(a);return this};b.setPlaybackFbmsParam=function(a){this.$1.playback_fbms_param=a;return this};b.setPlaybackRate=function(a){this.$1.playback_rate=a;return this};b.setPlayerHeight=function(a){this.$1.player_height=h(a);return this};b.setPlayerInstanceCount=function(a){this.$1.player_instance_count=h(a);return this};b.setPlayerOriginCallerSpecified=function(a){this.$1.player_origin_caller_specified=a;return this};b.setPlayerSuborigin=function(a){this.$1.player_suborigin=a;return this};b.setPlayerVersion=function(a){this.$1.player_version=a;return this};b.setPlayerWidth=function(a){this.$1.player_width=h(a);return this};b.setPlayhead=function(a){this.$1.playhead=h(a);return this};b.setPreloadTime=function(a){this.$1.preload_time=h(a);return this};b.setPreviousRepresentationID=function(a){this.$1.previous_representation_id=a;return this};b.setPriorityFloat=function(a){this.$1.priority_float=a;return this};b.setProxyStatusHeader=function(a){this.$1.proxy_status_header=a;return this};b.setPushed=function(a){return this};b.setReason=function(a){this.$1.reason=a;return this};b.setRepresentationID=function(a){this.$1.representation_id=a;return this};b.setRescheduleCount=function(a){this.$1.reschedule_count=h(a);return this};b.setResource=function(a){this.$1.resource=a;return this};b.setResponseTimeMsHeader=function(a){this.$1.response_time_ms_header=h(a);return this};b.setResult=function(a){this.$1.result=a;return this};b.setScriptPath=function(a){this.$1.script_path=a;return this};b.setSegmentCount=function(a){this.$1.segment_count=h(a);return this};b.setSegmentEndTime=function(a){this.$1.segment_end_time=h(a);return this};b.setSegmentStartTime=function(a){this.$1.segment_start_time=h(a);return this};b.setSegmentTimeGap=function(a){this.$1.segment_time_gap=h(a);return this};b.setSequentialID=function(a){this.$1.sequential_id=h(a);return this};b.setSession=function(a){this.$1.session=a;return this};b.setState=function(a){this.$1.state=a;return this};b.setStreamSwitchReason=function(a){this.$1.stream_switch_reason=a;return this};b.setTimeBetweenBytesMax=function(a){this.$1.time_between_bytes_max=h(a);return this};b.setTimeSinceMainThreadAvailable=function(a){this.$1.time_since_main_thread_available=h(a);return this};b.setTimeToFirstByte=function(a){this.$1.time_to_first_byte=h(a);return this};b.setTimeToLastByte=function(a){this.$1.time_to_last_byte=h(a);return this};b.setTimeToRequestSent=function(a){this.$1.time_to_request_sent=h(a);return this};b.setTimeToRequestStart=function(a){this.$1.time_to_request_start=h(a);return this};b.setTotalFrames=function(a){this.$1.total_frames=h(a);return this};b.setType=function(a){this.$1.type=a;return this};b.setUpdatePeriod=function(a){this.$1.update_period=h(a);return this};b.setUserInfo=function(a){this.$1.user_info=a;return this};b.setVideoDuration=function(a){this.$1.video_duration=h(a);return this};b.setVideoID=function(a){this.$1.video_id=a;return this};b.setVideoPlaybackExperienceIssue=function(a){this.$1.video_playback_experience_issue=a;return this};b.setWasDelayed=function(a){this.$1.was_delayed=a;return this};b.setDynamicStatusHeader=function(a){this.$1.dynamic_status_header=a;return this};b.setLastAudioBufferedEnd=function(a){this.$1.last_audio_buffered_end=h(a);return this};b.setLastAudioBufferedStart=function(a){this.$1.last_audio_buffered_start=h(a);return this};b.setLastVideoBufferedEnd=function(a){this.$1.last_video_buffered_end=h(a);return this};b.setLastVideoBufferedStart=function(a){this.$1.last_video_buffered_start=h(a);return this};return a}();f.convertToInt64=h;f.VideoPlayerDashPerformanceLoggerPayloadBuilder=a}),66);
__d("ExtendableVideoPlayerShakaPerformanceTypedLogger",["VideoPlayerDashPerformanceLoggerEventFalcoEvent","VideoPlayerDashPerformanceLoggerPayloadBuilder","VideoPlayerShakaPerformanceLoggerConfig","clearTimeout","gkx","qex","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";var h=999,i=(a=c("qex")._("2104"))!=null?a:12e4,j=[],k=0,l=!1,m=!1,n=null;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.isEnabled=function(){return b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_5()||b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_6()};b.disable=function(){l=!1};b.enable=function(){l=!0};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7=function(a){a=j[a];if(a!=null){var c=new b();c.updateData(a).log()}};b.flushQueuedLogs=function(){k=k>h?0:k;if(!b.isEnabled()){m=!0;b.enable();for(var a=k;a<=h;++a)b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7(a);for(a=0;a<k;++a)b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_7(a);j=[];k=0}m&&(n!=null&&c("clearTimeout")(n),n=c("setTimeout")(function(){n=null,m=!1,b.disable()},i))};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_5=function(){return d("VideoPlayerShakaPerformanceLoggerConfig").isSampled};b.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_6=function(){return l};var e=b.prototype;e.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_8=function(){m&&this.setIsRingBufferSample(!0),this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_9()};e.log=function(){b.isEnabled()||(this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_4||0)>0?this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_8():c("gkx")("2007884")&&(k=k>h?0:k,j[k++]=this.getData())};e.setPerSessionSampleRate=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_4=b;return a.prototype.setPerSessionSampleRate.call(this,b)};e.setState=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_1=b;return a.prototype.setState.call(this,b)};e.getState=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_1};e.setType=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_3=b;return a.prototype.setType.call(this,b)};e.getType=function(){return this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_3};e.setIsRingBufferSample=function(b){a.prototype.setIsRingBufferSample.call(this,b);return this};e.setSequentialID=function(b){this.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_2=b;a.prototype.setSequentialID.call(this,b);return this};e.setParentLogger=function(a){this.setParentID(a.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_2);return this};e.$ExtendableVideoPlayerShakaPerformanceTypedLogger$p_9=function(){var a=this;c("VideoPlayerDashPerformanceLoggerEventFalcoEvent").log(function(){return a.getData()})};return b}(d("VideoPlayerDashPerformanceLoggerPayloadBuilder").VideoPlayerDashPerformanceLoggerPayloadBuilder);g["default"]=b}),98);
__d("VideoPlayerShakaPerformanceLogger",["ExtendableVideoPlayerShakaPerformanceTypedLogger","ScriptPath","VideoPlaybackQuality","VideoPlayerMainThreadAvailability","VideoPlayerShakaGlobalConfig","VideoPlayerShakaPerformanceLoggerConfig","Visibility","clearTimeout","gkx","oz-player/loggings/OzPerfLoggerProviderBase","oz-player/utils/OzError","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g){"use strict";var h=3e5,i=200,j=4;c("VideoPlayerMainThreadAvailability").maybeEnablePerformanceTest();var k=!1;a=function(a){babelHelpers.inheritsLoose(b,a);b.forceShouldSample=function(){k=!0,c("ExtendableVideoPlayerShakaPerformanceTypedLogger").enable()};b.shouldInitialize=function(){return k||Boolean(d("VideoPlayerShakaPerformanceLoggerConfig").isSampled)||c("gkx")("2007884")};b.flushQueuedLogs=function(){c("ExtendableVideoPlayerShakaPerformanceTypedLogger").flushQueuedLogs()};b.setVideoPlaybackExperienceIssue=function(a){b.$VideoPlayerShakaPerformanceLogger$p_31=a};b.isEnabled=function(){return c("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()};function b(c){var d,e;e=a.call(this)||this;e.$VideoPlayerShakaPerformanceLogger$p_13=!1;e.$VideoPlayerShakaPerformanceLogger$p_14=!0;e.$VideoPlayerShakaPerformanceLogger$p_25=0;e.$VideoPlayerShakaPerformanceLogger$p_26=0;e.$VideoPlayerShakaPerformanceLogger$p_27=[];e.$VideoPlayerShakaPerformanceLogger$p_37=new Map();e.$VideoPlayerShakaPerformanceLogger$p_24=c;e.$VideoPlayerShakaPerformanceLogger$p_2=c.videoID;e.$VideoPlayerShakaPerformanceLogger$p_4=c.video;e.$VideoPlayerShakaPerformanceLogger$p_1=c.uniqueID;e.$VideoPlayerShakaPerformanceLogger$p_3=0;e.$VideoPlayerShakaPerformanceLogger$p_11=c.isLive;e.$VideoPlayerShakaPerformanceLogger$p_12=c.isServableViaFbms;e.$VideoPlayerShakaPerformanceLogger$p_9=null;e.$VideoPlayerShakaPerformanceLogger$p_15=c.accessToken;e.$VideoPlayerShakaPerformanceLogger$p_16=c.playerOrigin;e.$VideoPlayerShakaPerformanceLogger$p_17=c.playerSuborigin;e.$VideoPlayerShakaPerformanceLogger$p_18=c.playerVersion;e.$VideoPlayerShakaPerformanceLogger$p_28=c.getBandwidthEstimate;e.$VideoPlayerShakaPerformanceLogger$p_29=(d=c.getPlayerDimensions)!=null?d:null;e.$VideoPlayerShakaPerformanceLogger$p_30=(d=c.getPlayerFormat)!=null?d:null;e.setRepresentationID(c.representationId);e.$VideoPlayerShakaPerformanceLogger$p_32=c.isDrm;e.$VideoPlayerShakaPerformanceLogger$p_34={};e.$VideoPlayerShakaPerformanceLogger$p_35=(d=c.playerInstanceCount)!=null?d:null;b.maybeEnableMainThreadAvailabilityLogging();return e}b.maybeEnableMainThreadAvailabilityLogging=function(){d("VideoPlayerShakaGlobalConfig").getBool("enable_main_thread_availability_logging",!1)&&c("ExtendableVideoPlayerShakaPerformanceTypedLogger").isEnabled()&&c("VideoPlayerMainThreadAvailability").enable()};var e=b.prototype;e.$VideoPlayerShakaPerformanceLogger$p_38=function(a){var b=null;try{b=a.getBuffered()}catch(a){}if(b!=null&&b.length>0){a=b.length-1;return{lastBufferedStart:Math.round(b.start(a)*1e3),lastBufferedEnd:Math.round(b.end(a)*1e3)}}return null};e.$VideoPlayerShakaPerformanceLogger$p_39=function(a){a=a;var b=this.$VideoPlayerShakaPerformanceLogger$p_4.buffered;if(b.length>0){var c=b.length-1;a=a.setLastBufferedStart(Math.round(b.start(c)*1e3)).setLastBufferedEnd(Math.round(b.end(c)*1e3))}c=[];for(var d=0;d<b.length-1;d++){var e=Math.round(this.$VideoPlayerShakaPerformanceLogger$p_4.buffered.start(d)*1e3),f=Math.round(this.$VideoPlayerShakaPerformanceLogger$p_4.buffered.end(d)*1e3);c.push([e,f])}c.length&&(a=a.setAdditionalBufferedRanges(JSON.stringify(c)));e=this.$VideoPlayerShakaPerformanceLogger$p_37.get("audio");if(e!=null){f=this.$VideoPlayerShakaPerformanceLogger$p_38(e);f!=null&&(a=a.setLastAudioBufferedStart(f.lastBufferedStart).setLastAudioBufferedEnd(f.lastBufferedEnd))}b=this.$VideoPlayerShakaPerformanceLogger$p_37.get("video");if(b!=null){d=this.$VideoPlayerShakaPerformanceLogger$p_38(b);d!=null&&(a=a.setLastVideoBufferedStart(d.lastBufferedStart).setLastVideoBufferedEnd(d.lastBufferedEnd))}return a};e.setType=function(a){this.$VideoPlayerShakaPerformanceLogger$p_23=a;return this};e.createLoggerProvider=function(){return new self(this.$VideoPlayerShakaPerformanceLogger$p_24)};e.getLiveheadDelta=function(){return this.$VideoPlayerShakaPerformanceLogger$p_9?Math.round((this.$VideoPlayerShakaPerformanceLogger$p_9-this.$VideoPlayerShakaPerformanceLogger$p_4.currentTime)*1e3):null};e.getVideoID=function(){return this.$VideoPlayerShakaPerformanceLogger$p_2};e.setIsTemplatedManifest=function(a){this.$VideoPlayerShakaPerformanceLogger$p_13=a};e.setMediaSourceSourceBuffer=function(a,b){this.$VideoPlayerShakaPerformanceLogger$p_37.set(a,b);return this};e.unsetMediaSourceSourceBuffers=function(){this.$VideoPlayerShakaPerformanceLogger$p_37.clear();return this};e.addToLastErrorQueue=function(a){this.$VideoPlayerShakaPerformanceLogger$p_27.push(a),this.$VideoPlayerShakaPerformanceLogger$p_27.length>j&&this.$VideoPlayerShakaPerformanceLogger$p_27.shift()};e.getEventLogger=function(a){var e=this,f=Date.now(),g=new(c("ExtendableVideoPlayerShakaPerformanceTypedLogger"))(),h=this.$VideoPlayerShakaPerformanceLogger$p_4.currentTime,i=this.$VideoPlayerShakaPerformanceLogger$p_4.duration,j=this.$VideoPlayerShakaPerformanceLogger$p_28(this.$VideoPlayerShakaPerformanceLogger$p_11),k=this.$VideoPlayerShakaPerformanceLogger$p_24.getApproximateFBLSToPlayerDisplayLatency(),l=this.$VideoPlayerShakaPerformanceLogger$p_29?this.$VideoPlayerShakaPerformanceLogger$p_29():null;this.$VideoPlayerShakaPerformanceLogger$p_39(g).setEvent(a).setVideoID(this.$VideoPlayerShakaPerformanceLogger$p_2).setDroppedFrames(d("VideoPlaybackQuality").getDroppedFrames(this.$VideoPlayerShakaPerformanceLogger$p_4)).setTotalFrames(d("VideoPlaybackQuality").getTotalFrames(this.$VideoPlayerShakaPerformanceLogger$p_4)).setEnded(this.$VideoPlayerShakaPerformanceLogger$p_4.ended).setIsMuted(this.$VideoPlayerShakaPerformanceLogger$p_4.muted).setPlaybackRate(this.$VideoPlayerShakaPerformanceLogger$p_4.playbackRate).setDynamicBitrate(this.$VideoPlayerShakaPerformanceLogger$p_22).setPlayhead(Math.round(h*1e3)).setVideoDuration(Math.round(i*1e3)).setLogicalCpuCount(navigator&&navigator.hardwareConcurrency).setPlayerOriginCallerSpecified(this.$VideoPlayerShakaPerformanceLogger$p_16).setScriptPath(d("ScriptPath").getScriptPath()).setPlayerHeight(l?l.height:null).setPlayerWidth(l?l.width:null).setPlayerSuborigin(this.$VideoPlayerShakaPerformanceLogger$p_17).setPlayerVersion(this.$VideoPlayerShakaPerformanceLogger$p_18).setPlayerFormat(this.$VideoPlayerShakaPerformanceLogger$p_30?this.$VideoPlayerShakaPerformanceLogger$p_30():null).setBandwidthEstimate(j==null?null:Math.round(j)).setRepresentationID(this.getRepresentationID()).setLowestQualityRepresentationID(this.$VideoPlayerShakaPerformanceLogger$p_21).setIsLive(this.$VideoPlayerShakaPerformanceLogger$p_11).setIsServableViaFbms(this.$VideoPlayerShakaPerformanceLogger$p_12).setPlaybackFbmsParam(this.$VideoPlayerShakaPerformanceLogger$p_36).setIsPageVisible(!c("Visibility").isHidden()).setIsTemplatedManifest(this.$VideoPlayerShakaPerformanceLogger$p_13).setSession(this.$VideoPlayerShakaPerformanceLogger$p_1).setDevicePixelRatioFloat(window.devicePixelRatio||1).setManifestType(this.$VideoPlayerShakaPerformanceLogger$p_20).setLiveheadSeqNumMpd(this.$VideoPlayerShakaPerformanceLogger$p_10).setSequentialID(this.$VideoPlayerShakaPerformanceLogger$p_3++).setState(this.$VideoPlayerShakaPerformanceLogger$p_5).setLastBufferingEventStartTime(this.$VideoPlayerShakaPerformanceLogger$p_8).setLastBufferingEventEndTime(this.$VideoPlayerShakaPerformanceLogger$p_7).setLastPlayingEventTime(this.$VideoPlayerShakaPerformanceLogger$p_6).setLiveheadDelta(this.getLiveheadDelta()).setResult("success").setAccessToken(this.$VideoPlayerShakaPerformanceLogger$p_15).setVideoPlaybackExperienceIssue(b.$VideoPlayerShakaPerformanceLogger$p_31).setClientTimeBegin(f).setClientTimeDuration(0).setClientTimeEnd(f).setIsDrm(this.$VideoPlayerShakaPerformanceLogger$p_32).setPlayerInstanceCount(this.$VideoPlayerShakaPerformanceLogger$p_35).setFblsToPlyDisMs((k==null?void 0:k.latencyFromMpdUpdate)!=null?Math.round(k.latencyFromMpdUpdate*1e3):null).setPreferredEdgeLatency(this.$VideoPlayerShakaPerformanceLogger$p_19).setPerSessionSampleRate(this.$VideoPlayerShakaPerformanceLogger$p_24.perSessionSampleRate).setIsLatencyCachupEnabled(this.$VideoPlayerShakaPerformanceLogger$p_14).setIsOnline(this.$VideoPlayerShakaPerformanceLogger$p_33);switch(a){case"buffering":case"buffering_timeout":case"enter_buffering":case"unload":g.setError(this.$VideoPlayerShakaPerformanceLogger$p_27.join(" | "))}switch(a){case"leave_buffering":case"playing":this.$VideoPlayerShakaPerformanceLogger$p_27=[]}var m=this,n=g.setState;g.setState=function(a){this;a!==m.$VideoPlayerShakaPerformanceLogger$p_5&&a==="playing"?m.$VideoPlayerShakaPerformanceLogger$p_6=Date.now():a!=="playing"&&(m.$VideoPlayerShakaPerformanceLogger$p_6=null);m.$VideoPlayerShakaPerformanceLogger$p_5=a;return n.call(this,a)};g.updateState=function(a){return this.getState()==m.$VideoPlayerShakaPerformanceLogger$p_5?this.setState(a):this};var o=g.setError;g.setError=function(a){if(typeof a==="object"&&a!=null)if(a instanceof c("oz-player/utils/OzError"))this.setResult("failed"),this.setCode(a.getExtra().code),m.addToLastErrorQueue(a.getType()),o.call(this,a.getType());else{if(a.type==="aborted"||a.type==="delay")this.setResult("aborted");else if(a.type==="paused")this.setResult("paused");else{this.setResult("failed");if(a.type!=null&&a.type!=="")m.addToLastErrorQueue(a.type),o.call(this,a.type);else{var b=function(a){return a.replace(/([0-9]{2,})/g,function(a){var b="";while(b.length<a.length)b+="#";return b})};b=b(a.name+": "+a.message);m.addToLastErrorQueue(b);o.call(this,b)}}this.setCode(a.status||a.errorRawTransportStatus)}else a!=null&&m.addToLastErrorQueue(a),o.call(this,a);return this};var p=g.setManifestType;g.setManifestType=function(a){e.$VideoPlayerShakaPerformanceLogger$p_20=a;return p.call(g,a)};var q=g.setPlaybackFbmsParam;g.setPlaybackFbmsParam=function(a){e.$VideoPlayerShakaPerformanceLogger$p_36=a;return q.call(g,a)};g.setLiveheadPosition=function(a){e.$VideoPlayerShakaPerformanceLogger$p_9=a;g.setLiveheadDelta(e.getLiveheadDelta());return g};var r=g.setLiveheadSeqNumMpd;g.setLiveheadSeqNumMpd=function(a){e.$VideoPlayerShakaPerformanceLogger$p_10=a;return r.call(g,a)};var s=g.setPreferredEdgeLatency;g.setPreferredEdgeLatency=function(a){e.$VideoPlayerShakaPerformanceLogger$p_19=a;return s.call(g,a)};var t=g.setIsTemplatedManifest;g.setIsTemplatedManifest=function(a){var b;e.$VideoPlayerShakaPerformanceLogger$p_13=(b=a)!=null?b:!1;return t.call(g,a)};var u=g.setIsLatencyCachupEnabled;g.setIsLatencyCachupEnabled=function(a){var b;e.$VideoPlayerShakaPerformanceLogger$p_14=(b=a)!=null?b:!1;return u.call(g,a)};var v=g.setDynamicBitrate;g.setDynamicBitrate=function(a){a=Number(a)||null;e.setDynamicBitrate(a);return v.call(g,a)};var w=g.setLowestQualityRepresentationID;g.setLowestQualityRepresentationID=function(a){e.$VideoPlayerShakaPerformanceLogger$p_21=a;return w.call(g,a)};var x=g.setIsOnline;g.setIsOnline=function(a){e.$VideoPlayerShakaPerformanceLogger$p_33=a;return x.call(g,a)};g.setMediaSourceSourceBuffer=function(a,b){e.setMediaSourceSourceBuffer(a,b);return g};g.unsetMediaSourceSourceBuffers=function(){e.unsetMediaSourceSourceBuffers();return g};g.setWasPrefetchCacheHit=function(a){return g};return g};e.getOperationLogger=function(a){a=this.createOperationLogger(a);this.setOperationContext(a);return a};e.createOperationLogger=function(a){var b=this.getEventLogger(a);b.setClientTimeEnd(null);b.setClientTimeDuration(null);var d=b.setResource;b.setResource=function(a){return d.call(b,a)};var e=b.log,f=this,g=!1,i=null;b.log=function(){var b=this;if(g)return;c("clearTimeout")(i);var d=Date.now(),h=b.getData().client_time_begin,j=b.getData().client_time_end;h=h!=null?Number(h):null;j=j!=null?Number(j):null;(h==null||h===0)&&(h=d,b.setClientTimeBegin(h));(j==null||j===0)&&(j=d,b.setClientTimeEnd(j));b.setClientTimeDuration(j-h);h=c("VideoPlayerMainThreadAvailability").getTimeSinceMainThreadAvailable();b.setTimeSinceMainThreadAvailable(h!=null?Math.round(h):null);f.$VideoPlayerShakaPerformanceLogger$p_40(h);f.$VideoPlayerShakaPerformanceLogger$p_25=d;a==="buffering"&&(f.$VideoPlayerShakaPerformanceLogger$p_7=j);g=!0;h=b.getType();h&&(f.$VideoPlayerShakaPerformanceLogger$p_34[h+a]=(f.$VideoPlayerShakaPerformanceLogger$p_34[h+a]||0)+1,b.setMediastreamEventCount(f.$VideoPlayerShakaPerformanceLogger$p_34[h+a]));return e.call(b)};b.start=function(){var d=Date.now();this.setClientTimeBegin(d);this.setClientTimeDuration(null);this.setClientTimeEnd(null);c("clearTimeout")(i);i=null;i=c("setTimeoutAcrossTransitions")(function(){c("clearTimeout")(i),i=null,b.setResult("timeout"),b.log()},h);a==="buffering"&&(f.$VideoPlayerShakaPerformanceLogger$p_8=Date.now());return b};return b};e.$VideoPlayerShakaPerformanceLogger$p_40=function(a){if(a==null||i===0||this.$VideoPlayerShakaPerformanceLogger$p_25===0||a<i||this.$VideoPlayerShakaPerformanceLogger$p_26<a){this.$VideoPlayerShakaPerformanceLogger$p_26=Number(a);return}var b=this.$VideoPlayerShakaPerformanceLogger$p_25,c=Math.round(b-this.$VideoPlayerShakaPerformanceLogger$p_26);this.getEventLogger("main_thread_blocked").setClientTimeBegin(c).setClientTimeDuration(b-c).setClientTimeEnd(b).log();this.$VideoPlayerShakaPerformanceLogger$p_26=Number(a)};e.setDynamicBitrate=function(a){this.$VideoPlayerShakaPerformanceLogger$p_22=a!=null?Math.round(a):null};return b}(c("oz-player/loggings/OzPerfLoggerProviderBase"));a.$VideoPlayerShakaPerformanceLogger$p_31=null;g["default"]=a}),98);
__d("VideoPlayerShakaPerformanceLoggerBuilder",["VideoPlayerShakaPerformanceLogger"],(function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){this.$1=a.perSessionSampleRate}var b=a.prototype;b.build=function(a){return new(c("VideoPlayerShakaPerformanceLogger"))(babelHelpers["extends"]({},a,{perSessionSampleRate:this.$1}))};return a}();g["default"]=a}),98);
__d("XVideoHomeSearchExploreControllerRouteBuilder",["jsRouteBuilder"],(function(a,b,c,d,e,f,g){a=c("jsRouteBuilder")("/watch/explore/{q}/",Object.freeze({}),void 0);b=a;g["default"]=b}),98);